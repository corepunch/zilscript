BOARD = setmetatable({}, { __tostring = function(self) return self.DESC or "BOARD" end })
TEETH = setmetatable({}, { __tostring = function(self) return self.DESC or "TEETH" end })
WALL = setmetatable({}, { __tostring = function(self) return self.DESC or "WALL" end })
GRANITE_WALL = setmetatable({}, { __tostring = function(self) return self.DESC or "GRANITE_WALL" end })
SONGBIRD = setmetatable({}, { __tostring = function(self) return self.DESC or "SONGBIRD" end })
WHITE_HOUSE = setmetatable({}, { __tostring = function(self) return self.DESC or "WHITE_HOUSE" end })
FOREST = setmetatable({}, { __tostring = function(self) return self.DESC or "FOREST" end })
TREE = setmetatable({}, { __tostring = function(self) return self.DESC or "TREE" end })
MOUNTAIN_RANGE = setmetatable({}, { __tostring = function(self) return self.DESC or "MOUNTAIN_RANGE" end })
GLOBAL_WATER = setmetatable({}, { __tostring = function(self) return self.DESC or "GLOBAL_WATER" end })
WATER = setmetatable({}, { __tostring = function(self) return self.DESC or "WATER" end })
KITCHEN_WINDOW = setmetatable({}, { __tostring = function(self) return self.DESC or "KITCHEN_WINDOW" end })
CHIMNEY = setmetatable({}, { __tostring = function(self) return self.DESC or "CHIMNEY" end })
GHOSTS = setmetatable({}, { __tostring = function(self) return self.DESC or "GHOSTS" end })
SKULL = setmetatable({}, { __tostring = function(self) return self.DESC or "SKULL" end })
LOWERED_BASKET = setmetatable({}, { __tostring = function(self) return self.DESC or "LOWERED_BASKET" end })
RAISED_BASKET = setmetatable({}, { __tostring = function(self) return self.DESC or "RAISED_BASKET" end })
LUNCH = setmetatable({}, { __tostring = function(self) return self.DESC or "LUNCH" end })
BAT = setmetatable({}, { __tostring = function(self) return self.DESC or "BAT" end })
BELL = setmetatable({}, { __tostring = function(self) return self.DESC or "BELL" end })
HOT_BELL = setmetatable({}, { __tostring = function(self) return self.DESC or "HOT_BELL" end })
AXE = setmetatable({}, { __tostring = function(self) return self.DESC or "AXE" end })
BOLT = setmetatable({}, { __tostring = function(self) return self.DESC or "BOLT" end })
BUBBLE = setmetatable({}, { __tostring = function(self) return self.DESC or "BUBBLE" end })
ALTAR = setmetatable({}, { __tostring = function(self) return self.DESC or "ALTAR" end })
BOOK = setmetatable({}, { __tostring = function(self) return self.DESC or "BOOK" end })
BROKEN_LAMP = setmetatable({}, { __tostring = function(self) return self.DESC or "BROKEN_LAMP" end })
SCEPTRE = setmetatable({}, { __tostring = function(self) return self.DESC or "SCEPTRE" end })
TIMBERS = setmetatable({}, { __tostring = function(self) return self.DESC or "TIMBERS" end })
SLIDE = setmetatable({}, { __tostring = function(self) return self.DESC or "SLIDE" end })
KITCHEN_TABLE = setmetatable({}, { __tostring = function(self) return self.DESC or "KITCHEN_TABLE" end })
ATTIC_TABLE = setmetatable({}, { __tostring = function(self) return self.DESC or "ATTIC_TABLE" end })
SANDWICH_BAG = setmetatable({}, { __tostring = function(self) return self.DESC or "SANDWICH_BAG" end })
TOOL_CHEST = setmetatable({}, { __tostring = function(self) return self.DESC or "TOOL_CHEST" end })
YELLOW_BUTTON = setmetatable({}, { __tostring = function(self) return self.DESC or "YELLOW_BUTTON" end })
BROWN_BUTTON = setmetatable({}, { __tostring = function(self) return self.DESC or "BROWN_BUTTON" end })
RED_BUTTON = setmetatable({}, { __tostring = function(self) return self.DESC or "RED_BUTTON" end })
BLUE_BUTTON = setmetatable({}, { __tostring = function(self) return self.DESC or "BLUE_BUTTON" end })
TROPHY_CASE = setmetatable({}, { __tostring = function(self) return self.DESC or "TROPHY_CASE" end })
RUG = setmetatable({}, { __tostring = function(self) return self.DESC or "RUG" end })
CHALICE = setmetatable({}, { __tostring = function(self) return self.DESC or "CHALICE" end })
GARLIC = setmetatable({}, { __tostring = function(self) return self.DESC or "GARLIC" end })
TRIDENT = setmetatable({}, { __tostring = function(self) return self.DESC or "TRIDENT" end })
CYCLOPS = setmetatable({}, { __tostring = function(self) return self.DESC or "CYCLOPS" end })
DAM = setmetatable({}, { __tostring = function(self) return self.DESC or "DAM" end })
TRAP_DOOR = setmetatable({}, { __tostring = function(self) return self.DESC or "TRAP_DOOR" end })
BOARDED_WINDOW = setmetatable({}, { __tostring = function(self) return self.DESC or "BOARDED_WINDOW" end })
FRONT_DOOR = setmetatable({}, { __tostring = function(self) return self.DESC or "FRONT_DOOR" end })
BARROW_DOOR = setmetatable({}, { __tostring = function(self) return self.DESC or "BARROW_DOOR" end })
BARROW = setmetatable({}, { __tostring = function(self) return self.DESC or "BARROW" end })
BOTTLE = setmetatable({}, { __tostring = function(self) return self.DESC or "BOTTLE" end })
CRACK = setmetatable({}, { __tostring = function(self) return self.DESC or "CRACK" end })
COFFIN = setmetatable({}, { __tostring = function(self) return self.DESC or "COFFIN" end })
GRATE = setmetatable({}, { __tostring = function(self) return self.DESC or "GRATE" end })
PUMP = setmetatable({}, { __tostring = function(self) return self.DESC or "PUMP" end })
DIAMOND = setmetatable({}, { __tostring = function(self) return self.DESC or "DIAMOND" end })
JADE = setmetatable({}, { __tostring = function(self) return self.DESC or "JADE" end })
KNIFE = setmetatable({}, { __tostring = function(self) return self.DESC or "KNIFE" end })
BONES = setmetatable({}, { __tostring = function(self) return self.DESC or "BONES" end })
BURNED_OUT_LANTERN = setmetatable({}, { __tostring = function(self) return self.DESC or "BURNED_OUT_LANTERN" end })
BAG_OF_COINS = setmetatable({}, { __tostring = function(self) return self.DESC or "BAG_OF_COINS" end })
LAMP = setmetatable({}, { __tostring = function(self) return self.DESC or "LAMP" end })
EMERALD = setmetatable({}, { __tostring = function(self) return self.DESC or "EMERALD" end })
ADVERTISEMENT = setmetatable({}, { __tostring = function(self) return self.DESC or "ADVERTISEMENT" end })
LEAK = setmetatable({}, { __tostring = function(self) return self.DESC or "LEAK" end })
MACHINE = setmetatable({}, { __tostring = function(self) return self.DESC or "MACHINE" end })
INFLATED_BOAT = setmetatable({}, { __tostring = function(self) return self.DESC or "INFLATED_BOAT" end })
MAILBOX = setmetatable({}, { __tostring = function(self) return self.DESC or "MAILBOX" end })
MATCH = setmetatable({}, { __tostring = function(self) return self.DESC or "MATCH" end })
MIRROR_2 = setmetatable({}, { __tostring = function(self) return self.DESC or "MIRROR_2" end })
MIRROR_1 = setmetatable({}, { __tostring = function(self) return self.DESC or "MIRROR_1" end })
PAINTING = setmetatable({}, { __tostring = function(self) return self.DESC or "PAINTING" end })
CANDLES = setmetatable({}, { __tostring = function(self) return self.DESC or "CANDLES" end })
GUNK = setmetatable({}, { __tostring = function(self) return self.DESC or "GUNK" end })
BODIES = setmetatable({}, { __tostring = function(self) return self.DESC or "BODIES" end })
LEAVES = setmetatable({}, { __tostring = function(self) return self.DESC or "LEAVES" end })
PUNCTURED_BOAT = setmetatable({}, { __tostring = function(self) return self.DESC or "PUNCTURED_BOAT" end })
INFLATABLE_BOAT = setmetatable({}, { __tostring = function(self) return self.DESC or "INFLATABLE_BOAT" end })
BAR = setmetatable({}, { __tostring = function(self) return self.DESC or "BAR" end })
POT_OF_GOLD = setmetatable({}, { __tostring = function(self) return self.DESC or "POT_OF_GOLD" end })
PRAYER = setmetatable({}, { __tostring = function(self) return self.DESC or "PRAYER" end })
RAILING = setmetatable({}, { __tostring = function(self) return self.DESC or "RAILING" end })
RAINBOW = setmetatable({}, { __tostring = function(self) return self.DESC or "RAINBOW" end })
RIVER = setmetatable({}, { __tostring = function(self) return self.DESC or "RIVER" end })
BUOY = setmetatable({}, { __tostring = function(self) return self.DESC or "BUOY" end })
TREASURE_INSIDE = nil
ROPE = setmetatable({}, { __tostring = function(self) return self.DESC or "ROPE" end })
RUSTY_KNIFE = setmetatable({}, { __tostring = function(self) return self.DESC or "RUSTY_KNIFE" end })
SAND = setmetatable({}, { __tostring = function(self) return self.DESC or "SAND" end })
BRACELET = setmetatable({}, { __tostring = function(self) return self.DESC or "BRACELET" end })
SCREWDRIVER = setmetatable({}, { __tostring = function(self) return self.DESC or "SCREWDRIVER" end })
KEYS = setmetatable({}, { __tostring = function(self) return self.DESC or "KEYS" end })
SHOVEL = setmetatable({}, { __tostring = function(self) return self.DESC or "SHOVEL" end })
COAL = setmetatable({}, { __tostring = function(self) return self.DESC or "COAL" end })
LADDER = setmetatable({}, { __tostring = function(self) return self.DESC or "LADDER" end })
SCARAB = setmetatable({}, { __tostring = function(self) return self.DESC or "SCARAB" end })
LARGE_BAG = setmetatable({}, { __tostring = function(self) return self.DESC or "LARGE_BAG" end })
STILETTO = setmetatable({}, { __tostring = function(self) return self.DESC or "STILETTO" end })
MACHINE_SWITCH = setmetatable({}, { __tostring = function(self) return self.DESC or "MACHINE_SWITCH" end })
WOODEN_DOOR = setmetatable({}, { __tostring = function(self) return self.DESC or "WOODEN_DOOR" end })
SWORD = setmetatable({}, { __tostring = function(self) return self.DESC or "SWORD" end })
MAP = setmetatable({}, { __tostring = function(self) return self.DESC or "MAP" end })
BOAT_LABEL = setmetatable({}, { __tostring = function(self) return self.DESC or "BOAT_LABEL" end })
THIEF = setmetatable({}, { __tostring = function(self) return self.DESC or "THIEF" end })
PEDESTAL = setmetatable({}, { __tostring = function(self) return self.DESC or "PEDESTAL" end })
TORCH = setmetatable({}, { __tostring = function(self) return self.DESC or "TORCH" end })
GUIDE = setmetatable({}, { __tostring = function(self) return self.DESC or "GUIDE" end })
TROLL = setmetatable({}, { __tostring = function(self) return self.DESC or "TROLL" end })
TRUNK = setmetatable({}, { __tostring = function(self) return self.DESC or "TRUNK" end })
TUBE = setmetatable({}, { __tostring = function(self) return self.DESC or "TUBE" end })
PUTTY = setmetatable({}, { __tostring = function(self) return self.DESC or "PUTTY" end })
ENGRAVINGS = setmetatable({}, { __tostring = function(self) return self.DESC or "ENGRAVINGS" end })
OWNERS_MANUAL = setmetatable({}, { __tostring = function(self) return self.DESC or "OWNERS_MANUAL" end })
CLIMBABLE_CLIFF = setmetatable({}, { __tostring = function(self) return self.DESC or "CLIMBABLE_CLIFF" end })
WHITE_CLIFF = setmetatable({}, { __tostring = function(self) return self.DESC or "WHITE_CLIFF" end })
WRENCH = setmetatable({}, { __tostring = function(self) return self.DESC or "WRENCH" end })
CONTROL_PANEL = setmetatable({}, { __tostring = function(self) return self.DESC or "CONTROL_PANEL" end })
NEST = setmetatable({}, { __tostring = function(self) return self.DESC or "NEST" end })
EGG = setmetatable({}, { __tostring = function(self) return self.DESC or "EGG" end })
BROKEN_EGG = setmetatable({}, { __tostring = function(self) return self.DESC or "BROKEN_EGG" end })
BAUBLE = setmetatable({}, { __tostring = function(self) return self.DESC or "BAUBLE" end })
CANARY = setmetatable({}, { __tostring = function(self) return self.DESC or "CANARY" end })
BROKEN_CANARY = setmetatable({}, { __tostring = function(self) return self.DESC or "BROKEN_CANARY" end })
WEST_OF_HOUSE = setmetatable({}, { __tostring = function(self) return self.DESC or "WEST_OF_HOUSE" end })
STONE_BARROW = setmetatable({}, { __tostring = function(self) return self.DESC or "STONE_BARROW" end })
NORTH_OF_HOUSE = setmetatable({}, { __tostring = function(self) return self.DESC or "NORTH_OF_HOUSE" end })
SOUTH_OF_HOUSE = setmetatable({}, { __tostring = function(self) return self.DESC or "SOUTH_OF_HOUSE" end })
EAST_OF_HOUSE = setmetatable({}, { __tostring = function(self) return self.DESC or "EAST_OF_HOUSE" end })
FOREST_1 = setmetatable({}, { __tostring = function(self) return self.DESC or "FOREST_1" end })
FOREST_2 = setmetatable({}, { __tostring = function(self) return self.DESC or "FOREST_2" end })
MOUNTAINS = setmetatable({}, { __tostring = function(self) return self.DESC or "MOUNTAINS" end })
FOREST_3 = setmetatable({}, { __tostring = function(self) return self.DESC or "FOREST_3" end })
PATH = setmetatable({}, { __tostring = function(self) return self.DESC or "PATH" end })
UP_A_TREE = setmetatable({}, { __tostring = function(self) return self.DESC or "UP_A_TREE" end })
GRATING_CLEARING = setmetatable({}, { __tostring = function(self) return self.DESC or "GRATING_CLEARING" end })
GRATING_EXIT = nil
CLEARING = setmetatable({}, { __tostring = function(self) return self.DESC or "CLEARING" end })
KITCHEN = setmetatable({}, { __tostring = function(self) return self.DESC or "KITCHEN" end })
ATTIC = setmetatable({}, { __tostring = function(self) return self.DESC or "ATTIC" end })
LIVING_ROOM = setmetatable({}, { __tostring = function(self) return self.DESC or "LIVING_ROOM" end })
CELLAR = setmetatable({}, { __tostring = function(self) return self.DESC or "CELLAR" end })
TROLL_ROOM = setmetatable({}, { __tostring = function(self) return self.DESC or "TROLL_ROOM" end })
EAST_OF_CHASM = setmetatable({}, { __tostring = function(self) return self.DESC or "EAST_OF_CHASM" end })
GALLERY = setmetatable({}, { __tostring = function(self) return self.DESC or "GALLERY" end })
STUDIO = setmetatable({}, { __tostring = function(self) return self.DESC or "STUDIO" end })
MAZE_1 = setmetatable({}, { __tostring = function(self) return self.DESC or "MAZE_1" end })
MAZE_2 = setmetatable({}, { __tostring = function(self) return self.DESC or "MAZE_2" end })
MAZE_3 = setmetatable({}, { __tostring = function(self) return self.DESC or "MAZE_3" end })
MAZE_4 = setmetatable({}, { __tostring = function(self) return self.DESC or "MAZE_4" end })
DEAD_END_1 = setmetatable({}, { __tostring = function(self) return self.DESC or "DEAD_END_1" end })
MAZE_5 = setmetatable({}, { __tostring = function(self) return self.DESC or "MAZE_5" end })
DEAD_END_2 = setmetatable({}, { __tostring = function(self) return self.DESC or "DEAD_END_2" end })
MAZE_6 = setmetatable({}, { __tostring = function(self) return self.DESC or "MAZE_6" end })
MAZE_7 = setmetatable({}, { __tostring = function(self) return self.DESC or "MAZE_7" end })
MAZE_8 = setmetatable({}, { __tostring = function(self) return self.DESC or "MAZE_8" end })
DEAD_END_3 = setmetatable({}, { __tostring = function(self) return self.DESC or "DEAD_END_3" end })
MAZE_9 = setmetatable({}, { __tostring = function(self) return self.DESC or "MAZE_9" end })
MAZE_10 = setmetatable({}, { __tostring = function(self) return self.DESC or "MAZE_10" end })
MAZE_11 = setmetatable({}, { __tostring = function(self) return self.DESC or "MAZE_11" end })
GRATING_ROOM = setmetatable({}, { __tostring = function(self) return self.DESC or "GRATING_ROOM" end })
MAZE_12 = setmetatable({}, { __tostring = function(self) return self.DESC or "MAZE_12" end })
DEAD_END_4 = setmetatable({}, { __tostring = function(self) return self.DESC or "DEAD_END_4" end })
MAZE_13 = setmetatable({}, { __tostring = function(self) return self.DESC or "MAZE_13" end })
MAZE_14 = setmetatable({}, { __tostring = function(self) return self.DESC or "MAZE_14" end })
MAZE_15 = setmetatable({}, { __tostring = function(self) return self.DESC or "MAZE_15" end })
CYCLOPS_ROOM = setmetatable({}, { __tostring = function(self) return self.DESC or "CYCLOPS_ROOM" end })
STRANGE_PASSAGE = setmetatable({}, { __tostring = function(self) return self.DESC or "STRANGE_PASSAGE" end })
TREASURE_ROOM = setmetatable({}, { __tostring = function(self) return self.DESC or "TREASURE_ROOM" end })
RESERVOIR_SOUTH = setmetatable({}, { __tostring = function(self) return self.DESC or "RESERVOIR_SOUTH" end })
RESERVOIR = setmetatable({}, { __tostring = function(self) return self.DESC or "RESERVOIR" end })
RESERVOIR_NORTH = setmetatable({}, { __tostring = function(self) return self.DESC or "RESERVOIR_NORTH" end })
STREAM_VIEW = setmetatable({}, { __tostring = function(self) return self.DESC or "STREAM_VIEW" end })
IN_STREAM = setmetatable({}, { __tostring = function(self) return self.DESC or "IN_STREAM" end })
MIRROR_ROOM_1 = setmetatable({}, { __tostring = function(self) return self.DESC or "MIRROR_ROOM_1" end })
MIRROR_ROOM_2 = setmetatable({}, { __tostring = function(self) return self.DESC or "MIRROR_ROOM_2" end })
SMALL_CAVE = setmetatable({}, { __tostring = function(self) return self.DESC or "SMALL_CAVE" end })
TINY_CAVE = setmetatable({}, { __tostring = function(self) return self.DESC or "TINY_CAVE" end })
COLD_PASSAGE = setmetatable({}, { __tostring = function(self) return self.DESC or "COLD_PASSAGE" end })
NARROW_PASSAGE = setmetatable({}, { __tostring = function(self) return self.DESC or "NARROW_PASSAGE" end })
WINDING_PASSAGE = setmetatable({}, { __tostring = function(self) return self.DESC or "WINDING_PASSAGE" end })
TWISTING_PASSAGE = setmetatable({}, { __tostring = function(self) return self.DESC or "TWISTING_PASSAGE" end })
ATLANTIS_ROOM = setmetatable({}, { __tostring = function(self) return self.DESC or "ATLANTIS_ROOM" end })
EW_PASSAGE = setmetatable({}, { __tostring = function(self) return self.DESC or "EW_PASSAGE" end })
ROUND_ROOM = setmetatable({}, { __tostring = function(self) return self.DESC or "ROUND_ROOM" end })
DEEP_CANYON = setmetatable({}, { __tostring = function(self) return self.DESC or "DEEP_CANYON" end })
DAMP_CAVE = setmetatable({}, { __tostring = function(self) return self.DESC or "DAMP_CAVE" end })
LOUD_ROOM = setmetatable({}, { __tostring = function(self) return self.DESC or "LOUD_ROOM" end })
NS_PASSAGE = setmetatable({}, { __tostring = function(self) return self.DESC or "NS_PASSAGE" end })
CHASM_ROOM = setmetatable({}, { __tostring = function(self) return self.DESC or "CHASM_ROOM" end })
ENTRANCE_TO_HADES = setmetatable({}, { __tostring = function(self) return self.DESC or "ENTRANCE_TO_HADES" end })
LAND_OF_LIVING_DEAD = setmetatable({}, { __tostring = function(self) return self.DESC or "LAND_OF_LIVING_DEAD" end })
ENGRAVINGS_CAVE = setmetatable({}, { __tostring = function(self) return self.DESC or "ENGRAVINGS_CAVE" end })
EGYPT_ROOM = setmetatable({}, { __tostring = function(self) return self.DESC or "EGYPT_ROOM" end })
DOME_ROOM = setmetatable({}, { __tostring = function(self) return self.DESC or "DOME_ROOM" end })
TORCH_ROOM = setmetatable({}, { __tostring = function(self) return self.DESC or "TORCH_ROOM" end })
NORTH_TEMPLE = setmetatable({}, { __tostring = function(self) return self.DESC or "NORTH_TEMPLE" end })
SOUTH_TEMPLE = setmetatable({}, { __tostring = function(self) return self.DESC or "SOUTH_TEMPLE" end })
DAM_ROOM = setmetatable({}, { __tostring = function(self) return self.DESC or "DAM_ROOM" end })
DAM_LOBBY = setmetatable({}, { __tostring = function(self) return self.DESC or "DAM_LOBBY" end })
MAINTENANCE_ROOM = setmetatable({}, { __tostring = function(self) return self.DESC or "MAINTENANCE_ROOM" end })
DAM_BASE = setmetatable({}, { __tostring = function(self) return self.DESC or "DAM_BASE" end })
RIVER_1 = setmetatable({}, { __tostring = function(self) return self.DESC or "RIVER_1" end })
RIVER_2 = setmetatable({}, { __tostring = function(self) return self.DESC or "RIVER_2" end })
RIVER_3 = setmetatable({}, { __tostring = function(self) return self.DESC or "RIVER_3" end })
WHITE_CLIFFS_NORTH = setmetatable({}, { __tostring = function(self) return self.DESC or "WHITE_CLIFFS_NORTH" end })
WHITE_CLIFFS_SOUTH = setmetatable({}, { __tostring = function(self) return self.DESC or "WHITE_CLIFFS_SOUTH" end })
RIVER_4 = setmetatable({}, { __tostring = function(self) return self.DESC or "RIVER_4" end })
RIVER_5 = setmetatable({}, { __tostring = function(self) return self.DESC or "RIVER_5" end })
SHORE = setmetatable({}, { __tostring = function(self) return self.DESC or "SHORE" end })
SANDY_BEACH = setmetatable({}, { __tostring = function(self) return self.DESC or "SANDY_BEACH" end })
SANDY_CAVE = setmetatable({}, { __tostring = function(self) return self.DESC or "SANDY_CAVE" end })
ARAGAIN_FALLS = setmetatable({}, { __tostring = function(self) return self.DESC or "ARAGAIN_FALLS" end })
ON_RAINBOW = setmetatable({}, { __tostring = function(self) return self.DESC or "ON_RAINBOW" end })
END_OF_RAINBOW = setmetatable({}, { __tostring = function(self) return self.DESC or "END_OF_RAINBOW" end })
CANYON_BOTTOM = setmetatable({}, { __tostring = function(self) return self.DESC or "CANYON_BOTTOM" end })
CLIFF_MIDDLE = setmetatable({}, { __tostring = function(self) return self.DESC or "CLIFF_MIDDLE" end })
CANYON_VIEW = setmetatable({}, { __tostring = function(self) return self.DESC or "CANYON_VIEW" end })
CANYON_VIEW_F = nil
MINE_ENTRANCE = setmetatable({}, { __tostring = function(self) return self.DESC or "MINE_ENTRANCE" end })
SQUEEKY_ROOM = setmetatable({}, { __tostring = function(self) return self.DESC or "SQUEEKY_ROOM" end })
BAT_ROOM = setmetatable({}, { __tostring = function(self) return self.DESC or "BAT_ROOM" end })
SHAFT_ROOM = setmetatable({}, { __tostring = function(self) return self.DESC or "SHAFT_ROOM" end })
SMELLY_ROOM = setmetatable({}, { __tostring = function(self) return self.DESC or "SMELLY_ROOM" end })
GAS_ROOM = setmetatable({}, { __tostring = function(self) return self.DESC or "GAS_ROOM" end })
LADDER_TOP = setmetatable({}, { __tostring = function(self) return self.DESC or "LADDER_TOP" end })
LADDER_BOTTOM = setmetatable({}, { __tostring = function(self) return self.DESC or "LADDER_BOTTOM" end })
DEAD_END_5 = setmetatable({}, { __tostring = function(self) return self.DESC or "DEAD_END_5" end })
TIMBER_ROOM = setmetatable({}, { __tostring = function(self) return self.DESC or "TIMBER_ROOM" end })
LOWER_SHAFT = setmetatable({}, { __tostring = function(self) return self.DESC or "LOWER_SHAFT" end })
MACHINE_ROOM = setmetatable({}, { __tostring = function(self) return self.DESC or "MACHINE_ROOM" end })
MINE_1 = setmetatable({}, { __tostring = function(self) return self.DESC or "MINE_1" end })
MINE_2 = setmetatable({}, { __tostring = function(self) return self.DESC or "MINE_2" end })
MINE_3 = setmetatable({}, { __tostring = function(self) return self.DESC or "MINE_3" end })
MINE_4 = setmetatable({}, { __tostring = function(self) return self.DESC or "MINE_4" end })
SLIDE_ROOM = setmetatable({}, { __tostring = function(self) return self.DESC or "SLIDE_ROOM" end })
GO = nil

DIRECTIONS("NORTH", "EAST", "WEST", "SOUTH", "NE", "NW", "SE", "SW", "UP", "DOWN", "IN", "OUT", "LAND", nil)
SCORE_MAX = 350
FALSE_FLAG = nil
OBJECT {
	NAME = "BOARD",
	IN = LOCAL_GLOBALS,
	SYNONYM = {"BOARDS","BOARD"},
	DESC = "board",
	FLAGS = (1<<NDESCBIT),
	ACTION = BOARD_F,
}
OBJECT {
	NAME = "TEETH",
	IN = GLOBAL_OBJECTS,
	SYNONYM = {"OVERBOARD","TEETH"},
	DESC = "set of teeth",
	FLAGS = (1<<NDESCBIT),
	ACTION = TEETH_F,
}
OBJECT {
	NAME = "WALL",
	IN = GLOBAL_OBJECTS,
	SYNONYM = {"WALL","WALLS"},
	ADJECTIVE = {"SURROUNDING"},
	DESC = "surrounding wall",
}
OBJECT {
	NAME = "GRANITE_WALL",
	IN = GLOBAL_OBJECTS,
	SYNONYM = {"WALL"},
	ADJECTIVE = {"GRANITE"},
	DESC = "granite wall",
	ACTION = GRANITE_WALL_F,
}
OBJECT {
	NAME = "SONGBIRD",
	IN = LOCAL_GLOBALS,
	SYNONYM = {"BIRD","SONGBIRD"},
	ADJECTIVE = {"SONG"},
	DESC = "songbird",
	FLAGS = (1<<NDESCBIT),
	ACTION = SONGBIRD_F,
}
OBJECT {
	NAME = "WHITE_HOUSE",
	IN = LOCAL_GLOBALS,
	SYNONYM = {"HOUSE"},
	ADJECTIVE = {"WHITE","BEAUTI","COLONI"},
	DESC = "white house",
	FLAGS = (1<<NDESCBIT),
	ACTION = WHITE_HOUSE_F,
}
OBJECT {
	NAME = "FOREST",
	IN = LOCAL_GLOBALS,
	SYNONYM = {"FOREST","TREES","PINES","HEMLOCKS"},
	DESC = "forest",
	FLAGS = (1<<NDESCBIT),
	ACTION = FOREST_F,
}
OBJECT {
	NAME = "TREE",
	IN = LOCAL_GLOBALS,
	SYNONYM = {"TREE","BRANCH"},
	ADJECTIVE = {"LARGE","STORM"},
	DESC = "tree",
	FLAGS = (1<<NDESCBIT)|(1<<CLIMBBIT),
}
OBJECT {
	NAME = "MOUNTAIN_RANGE",
	IN = MOUNTAINS,
	DESC = "mountain range",
	SYNONYM = {"MOUNTAIN","RANGE"},
	ADJECTIVE = {"IMPASSABLE","FLATHEAD"},
	FLAGS = (1<<NDESCBIT)|(1<<CLIMBBIT),
	ACTION = MOUNTAIN_RANGE_F,
}
OBJECT {
	NAME = "GLOBAL_WATER",
	IN = LOCAL_GLOBALS,
	SYNONYM = {"WATER","QUANTITY"},
	DESC = "water",
	FLAGS = (1<<DRINKBIT),
	ACTION = WATER_F,
}
OBJECT {
	NAME = "WATER",
	IN = BOTTLE,
	SYNONYM = {"WATER","QUANTITY","LIQUID","H2O"},
	DESC = "quantity of water",
	FLAGS = (1<<TRYTAKEBIT)|(1<<TAKEBIT)|(1<<DRINKBIT),
	ACTION = WATER_F,
	SIZE = 4,
}
OBJECT {
	NAME = "KITCHEN_WINDOW",
	IN = LOCAL_GLOBALS,
	SYNONYM = {"WINDOW"},
	ADJECTIVE = {"KITCHEN","SMALL"},
	DESC = "kitchen window",
	FLAGS = (1<<DOORBIT)|(1<<NDESCBIT),
	ACTION = KITCHEN_WINDOW_F,
}
OBJECT {
	NAME = "CHIMNEY",
	IN = LOCAL_GLOBALS,
	SYNONYM = {"CHIMNEY"},
	ADJECTIVE = {"DARK","NARROW"},
	DESC = "chimney",
	ACTION = CHIMNEY_F,
	FLAGS = (1<<CLIMBBIT)|(1<<NDESCBIT),
}
OBJECT {
	NAME = "GHOSTS",
	IN = ENTRANCE_TO_HADES,
	SYNONYM = {"GHOSTS","SPIRITS","FIENDS","FORCE"},
	ADJECTIVE = {"INVISIBLE","EVIL"},
	DESC = "number of ghosts",
	FLAGS = (1<<ACTORBIT)|(1<<NDESCBIT),
	ACTION = GHOSTS_F,
}
OBJECT {
	NAME = "SKULL",
	IN = LAND_OF_LIVING_DEAD,
	SYNONYM = {"SKULL","HEAD","TREASURE"},
	ADJECTIVE = {"CRYSTAL"},
	DESC = "crystal skull",
	FDESC = "Lying in one corner of the room is a beautifully carved crystal skull.\nIt appears to be grinning at you rather nastily.",
	FLAGS = (1<<TAKEBIT),
	VALUE = 10,
	TVALUE = 10,
}
OBJECT {
	NAME = "LOWERED_BASKET",
	IN = LOWER_SHAFT,
	SYNONYM = {"CAGE","DUMBWAITER","BASKET"},
	ADJECTIVE = {"LOWERED"},
	LDESC = "From the chain is suspended a basket.",
	DESC = "basket",
	FLAGS = (1<<TRYTAKEBIT),
	ACTION = BASKET_F,
}
OBJECT {
	NAME = "RAISED_BASKET",
	IN = SHAFT_ROOM,
	SYNONYM = {"CAGE","DUMBWAITER","BASKET"},
	DESC = "basket",
	FLAGS = (1<<TRANSBIT)|(1<<TRYTAKEBIT)|(1<<CONTBIT)|(1<<OPENBIT),
	ACTION = BASKET_F,
	LDESC = "At the end of the chain is a basket.",
	CAPACITY = 50,
}
OBJECT {
	NAME = "LUNCH",
	IN = SANDWICH_BAG,
	SYNONYM = {"FOOD","SANDWICH","LUNCH","DINNER"},
	ADJECTIVE = {"HOT","PEPPER"},
	DESC = "lunch",
	FLAGS = (1<<TAKEBIT)|(1<<FOODBIT),
	LDESC = "A hot pepper sandwich is here.",
}
OBJECT {
	NAME = "BAT",
	IN = BAT_ROOM,
	SYNONYM = {"BAT","VAMPIRE"},
	ADJECTIVE = {"VAMPIRE","DERANGED"},
	DESC = "bat",
	FLAGS = (1<<ACTORBIT)|(1<<TRYTAKEBIT),
	DESCFCN = BAT_D,
	ACTION = BAT_F,
}
OBJECT {
	NAME = "BELL",
	IN = NORTH_TEMPLE,
	SYNONYM = {"BELL"},
	ADJECTIVE = {"SMALL","BRASS"},
	DESC = "brass bell",
	FLAGS = (1<<TAKEBIT),
	ACTION = BELL_F,
}
OBJECT {
	NAME = "HOT_BELL",
	SYNONYM = {"BELL"},
	ADJECTIVE = {"BRASS","HOT","RED","SMALL"},
	DESC = "red hot brass bell",
	FLAGS = (1<<TRYTAKEBIT),
	ACTION = HOT_BELL_F,
	LDESC = "On the ground is a red hot bell.",
}
OBJECT {
	NAME = "AXE",
	IN = TROLL,
	SYNONYM = {"AXE","AX"},
	ADJECTIVE = {"BLOODY"},
	DESC = "bloody axe",
	FLAGS = (1<<WEAPONBIT)|(1<<TRYTAKEBIT)|(1<<TAKEBIT)|(1<<NDESCBIT),
	ACTION = AXE_F,
	SIZE = 25,
}
OBJECT {
	NAME = "BOLT",
	IN = DAM_ROOM,
	SYNONYM = {"BOLT","NUT"},
	ADJECTIVE = {"METAL","LARGE"},
	DESC = "bolt",
	FLAGS = (1<<NDESCBIT)|(1<<TURNBIT)|(1<<TRYTAKEBIT),
	ACTION = BOLT_F,
}
OBJECT {
	NAME = "BUBBLE",
	IN = DAM_ROOM,
	SYNONYM = {"BUBBLE"},
	ADJECTIVE = {"SMALL","GREEN","PLASTIC"},
	DESC = "green bubble",
	FLAGS = (1<<NDESCBIT)|(1<<TRYTAKEBIT),
	ACTION = BUBBLE_F,
}
OBJECT {
	NAME = "ALTAR",
	IN = SOUTH_TEMPLE,
	SYNONYM = {"ALTAR"},
	DESC = "altar",
	FLAGS = (1<<NDESCBIT)|(1<<SURFACEBIT)|(1<<CONTBIT)|(1<<OPENBIT),
	CAPACITY = 50,
}
OBJECT {
	NAME = "BOOK",
	IN = ALTAR,
	SYNONYM = {"BOOK","PRAYER","PAGE","BOOKS"},
	ADJECTIVE = {"LARGE","BLACK"},
	DESC = "black book",
	FLAGS = (1<<READBIT)|(1<<TAKEBIT)|(1<<CONTBIT)|(1<<BURNBIT)|(1<<TURNBIT),
	ACTION = BLACK_BOOK,
	FDESC = "On the altar is a large black book, open to page 569.",
	SIZE = 10,
	TEXT = "Commandment #12592|\n|\nOh ye who go about saying unto each:  \"Hello sailor\":|\nDost thou know the magnitude of thy sin before the gods?|\nYea, verily, thou shalt be ground between two stones.|\nShall the angry gods cast thy body into the whirlpool?|\nSurely, thy eye shall be put out with a sharp stick!|\nEven unto the ends of the earth shalt thou wander and|\nUnto the land of the dead shalt thou be sent at last.|\nSurely thou shalt repent of thy cunning.",
}
OBJECT {
	NAME = "BROKEN_LAMP",
	SYNONYM = {"LAMP","LANTERN"},
	ADJECTIVE = {"BROKEN"},
	DESC = "broken lantern",
	FLAGS = (1<<TAKEBIT),
}
OBJECT {
	NAME = "SCEPTRE",
	IN = COFFIN,
	SYNONYM = {"SCEPTRE","SCEPTER","TREASURE"},
	ADJECTIVE = {"SHARP","EGYPTIAN","ANCIENT","ENAMELED"},
	DESC = "sceptre",
	FLAGS = (1<<TAKEBIT)|(1<<WEAPONBIT),
	ACTION = SCEPTRE_FUNCTION,
	LDESC = "An ornamented sceptre, tapering to a sharp point, is here.",
	FDESC = "A sceptre, possibly that of ancient Egypt itself, is in the coffin. The\nsceptre is ornamented with colored enamel, and tapers to a sharp point.",
	SIZE = 3,
	VALUE = 4,
	TVALUE = 6,
}
OBJECT {
	NAME = "TIMBERS",
	IN = TIMBER_ROOM,
	SYNONYM = {"TIMBERS","PILE"},
	ADJECTIVE = {"WOODEN","BROKEN"},
	DESC = "broken timber",
	FLAGS = (1<<TAKEBIT),
	SIZE = 50,
}
OBJECT {
	NAME = "SLIDE",
	IN = LOCAL_GLOBALS,
	SYNONYM = {"CHUTE","RAMP","SLIDE"},
	ADJECTIVE = {"STEEP","METAL","TWISTING"},
	DESC = "chute",
	FLAGS = (1<<CLIMBBIT),
	ACTION = SLIDE_FUNCTION,
}
OBJECT {
	NAME = "KITCHEN_TABLE",
	IN = KITCHEN,
	SYNONYM = {"TABLE"},
	ADJECTIVE = {"KITCHEN"},
	DESC = "kitchen table",
	FLAGS = (1<<NDESCBIT)|(1<<CONTBIT)|(1<<OPENBIT)|(1<<SURFACEBIT),
	CAPACITY = 50,
}
OBJECT {
	NAME = "ATTIC_TABLE",
	IN = ATTIC,
	SYNONYM = {"TABLE"},
	DESC = "table",
	FLAGS = (1<<NDESCBIT)|(1<<CONTBIT)|(1<<OPENBIT)|(1<<SURFACEBIT),
	CAPACITY = 40,
}
OBJECT {
	NAME = "SANDWICH_BAG",
	IN = KITCHEN_TABLE,
	SYNONYM = {"BAG","SACK"},
	ADJECTIVE = {"BROWN","ELONGATED","SMELLY"},
	DESC = "brown sack",
	FLAGS = (1<<TAKEBIT)|(1<<CONTBIT)|(1<<BURNBIT),
	FDESC = "On the table is an elongated brown sack, smelling of hot peppers.",
	CAPACITY = 9,
	SIZE = 9,
	ACTION = SANDWICH_BAG_FCN,
}
OBJECT {
	NAME = "TOOL_CHEST",
	IN = MAINTENANCE_ROOM,
	SYNONYM = {"CHEST","CHESTS","GROUP","TOOLCHESTS"},
	ADJECTIVE = {"TOOL"},
	DESC = "group of tool chests",
	FLAGS = (1<<CONTBIT)|(1<<OPENBIT)|(1<<TRYTAKEBIT)|(1<<SACREDBIT),
	ACTION = TOOL_CHEST_FCN,
}
OBJECT {
	NAME = "YELLOW_BUTTON",
	IN = MAINTENANCE_ROOM,
	SYNONYM = {"BUTTON","SWITCH"},
	ADJECTIVE = {"YELLOW"},
	DESC = "yellow button",
	FLAGS = (1<<NDESCBIT),
	ACTION = BUTTON_F,
}
OBJECT {
	NAME = "BROWN_BUTTON",
	IN = MAINTENANCE_ROOM,
	SYNONYM = {"BUTTON","SWITCH"},
	ADJECTIVE = {"BROWN"},
	DESC = "brown button",
	FLAGS = (1<<NDESCBIT),
	ACTION = BUTTON_F,
}
OBJECT {
	NAME = "RED_BUTTON",
	IN = MAINTENANCE_ROOM,
	SYNONYM = {"BUTTON","SWITCH"},
	ADJECTIVE = {"RED"},
	DESC = "red button",
	FLAGS = (1<<NDESCBIT),
	ACTION = BUTTON_F,
}
OBJECT {
	NAME = "BLUE_BUTTON",
	IN = MAINTENANCE_ROOM,
	SYNONYM = {"BUTTON","SWITCH"},
	ADJECTIVE = {"BLUE"},
	DESC = "blue button",
	FLAGS = (1<<NDESCBIT),
	ACTION = BUTTON_F,
}
OBJECT {
	NAME = "TROPHY_CASE",
	IN = LIVING_ROOM,
	SYNONYM = {"CASE"},
	ADJECTIVE = {"TROPHY"},
	DESC = "trophy case",
	FLAGS = (1<<TRANSBIT)|(1<<CONTBIT)|(1<<NDESCBIT)|(1<<TRYTAKEBIT)|(1<<SEARCHBIT),
	ACTION = TROPHY_CASE_FCN,
	CAPACITY = 10000,
}
OBJECT {
	NAME = "RUG",
	IN = LIVING_ROOM,
	SYNONYM = {"RUG","CARPET"},
	ADJECTIVE = {"LARGE","ORIENTAL"},
	DESC = "carpet",
	FLAGS = (1<<NDESCBIT)|(1<<TRYTAKEBIT),
	ACTION = RUG_FCN,
}
OBJECT {
	NAME = "CHALICE",
	IN = TREASURE_ROOM,
	SYNONYM = {"CHALICE","CUP","SILVER","TREASURE"},
	ADJECTIVE = {"SILVER","ENGRAVINGS"},
	DESC = "chalice",
	FLAGS = (1<<TAKEBIT)|(1<<TRYTAKEBIT)|(1<<CONTBIT),
	ACTION = CHALICE_FCN,
	LDESC = "There is a silver chalice, intricately engraved, here.",
	CAPACITY = 5,
	SIZE = 10,
	VALUE = 10,
	TVALUE = 5,
}
OBJECT {
	NAME = "GARLIC",
	IN = SANDWICH_BAG,
	SYNONYM = {"GARLIC","CLOVE"},
	DESC = "clove of garlic",
	FLAGS = (1<<TAKEBIT)|(1<<FOODBIT),
	ACTION = GARLIC_F,
	SIZE = 4,
}
OBJECT {
	NAME = "TRIDENT",
	IN = ATLANTIS_ROOM,
	SYNONYM = {"TRIDENT","FORK","TREASURE"},
	ADJECTIVE = {"POSEIDON","OWN","CRYSTAL"},
	DESC = "crystal trident",
	FLAGS = (1<<TAKEBIT),
	FDESC = "On the shore lies Poseidon's own crystal trident.",
	SIZE = 20,
	VALUE = 4,
	TVALUE = 11,
}
OBJECT {
	NAME = "CYCLOPS",
	IN = CYCLOPS_ROOM,
	SYNONYM = {"CYCLOPS","MONSTER","EYE"},
	ADJECTIVE = {"HUNGRY","GIANT"},
	DESC = "cyclops",
	FLAGS = (1<<ACTORBIT)|(1<<NDESCBIT)|(1<<TRYTAKEBIT),
	ACTION = CYCLOPS_FCN,
	STRENGTH = 10000,
}
OBJECT {
	NAME = "DAM",
	IN = DAM_ROOM,
	SYNONYM = {"DAM","GATE","GATES","FCD/#3"},
	DESC = "dam",
	FLAGS = (1<<NDESCBIT)|(1<<TRYTAKEBIT),
	ACTION = DAM_FUNCTION,
}
OBJECT {
	NAME = "TRAP_DOOR",
	IN = LOCAL_GLOBALS,
	SYNONYM = {"DOOR","TRAPDOOR","TRAP_DOOR","COVER"},
	ADJECTIVE = {"TRAP","DUSTY"},
	DESC = "trap door",
	FLAGS = (1<<DOORBIT)|(1<<NDESCBIT)|(1<<INVISIBLE),
	ACTION = TRAP_DOOR_FCN,
}
OBJECT {
	NAME = "BOARDED_WINDOW",
	IN = LOCAL_GLOBALS,
	SYNONYM = {"WINDOW"},
	ADJECTIVE = {"BOARDED"},
	DESC = "boarded window",
	FLAGS = (1<<NDESCBIT),
	ACTION = BOARDED_WINDOW_FCN,
}
OBJECT {
	NAME = "FRONT_DOOR",
	IN = WEST_OF_HOUSE,
	SYNONYM = {"DOOR"},
	ADJECTIVE = {"FRONT","BOARDED"},
	DESC = "door",
	FLAGS = (1<<DOORBIT)|(1<<NDESCBIT),
	ACTION = FRONT_DOOR_FCN,
}
OBJECT {
	NAME = "BARROW_DOOR",
	IN = STONE_BARROW,
	SYNONYM = {"DOOR"},
	ADJECTIVE = {"HUGE","STONE"},
	DESC = "stone door",
	FLAGS = (1<<DOORBIT)|(1<<NDESCBIT)|(1<<OPENBIT),
	ACTION = BARROW_DOOR_FCN,
}
OBJECT {
	NAME = "BARROW",
	IN = STONE_BARROW,
	SYNONYM = {"BARROW","TOMB"},
	ADJECTIVE = {"MASSIVE","STONE"},
	DESC = "stone barrow",
	FLAGS = (1<<NDESCBIT),
	ACTION = BARROW_FCN,
}
OBJECT {
	NAME = "BOTTLE",
	IN = KITCHEN_TABLE,
	SYNONYM = {"BOTTLE","CONTAINER"},
	ADJECTIVE = {"CLEAR","GLASS"},
	DESC = "glass bottle",
	FLAGS = (1<<TAKEBIT)|(1<<TRANSBIT)|(1<<CONTBIT),
	ACTION = BOTTLE_FUNCTION,
	FDESC = "A bottle is sitting on the table.",
	CAPACITY = 4,
}
OBJECT {
	NAME = "CRACK",
	IN = LOCAL_GLOBALS,
	SYNONYM = {"CRACK"},
	ADJECTIVE = {"NARROW"},
	DESC = "crack",
	FLAGS = (1<<NDESCBIT),
	ACTION = CRACK_FCN,
}
OBJECT {
	NAME = "COFFIN",
	IN = EGYPT_ROOM,
	SYNONYM = {"COFFIN","CASKET","TREASURE"},
	ADJECTIVE = {"SOLID","GOLD"},
	DESC = "gold coffin",
	FLAGS = (1<<TAKEBIT)|(1<<CONTBIT)|(1<<SACREDBIT)|(1<<SEARCHBIT),
	LDESC = "The solid-gold coffin used for the burial of Ramses II is here.",
	CAPACITY = 35,
	SIZE = 55,
	VALUE = 10,
	TVALUE = 15,
}
OBJECT {
	NAME = "GRATE",
	IN = LOCAL_GLOBALS,
	SYNONYM = {"GRATE","GRATING"},
	DESC = "grating",
	FLAGS = (1<<DOORBIT)|(1<<NDESCBIT)|(1<<INVISIBLE),
	ACTION = GRATE_FUNCTION,
}
OBJECT {
	NAME = "PUMP",
	IN = RESERVOIR_NORTH,
	SYNONYM = {"PUMP","AIR_PUMP","TOOL","TOOLS"},
	ADJECTIVE = {"SMALL","HAND_HELD"},
	DESC = "hand-held air pump",
	FLAGS = (1<<TAKEBIT)|(1<<TOOLBIT),
}
OBJECT {
	NAME = "DIAMOND",
	SYNONYM = {"DIAMOND","TREASURE"},
	ADJECTIVE = {"HUGE","ENORMOUS"},
	DESC = "huge diamond",
	FLAGS = (1<<TAKEBIT),
	LDESC = "There is an enormous diamond (perfectly cut) here.",
	VALUE = 10,
	TVALUE = 10,
}
OBJECT {
	NAME = "JADE",
	IN = BAT_ROOM,
	SYNONYM = {"FIGURINE","TREASURE"},
	ADJECTIVE = {"EXQUISITE","JADE"},
	DESC = "jade figurine",
	FLAGS = (1<<TAKEBIT),
	LDESC = "There is an exquisite jade figurine here.",
	SIZE = 10,
	VALUE = 5,
	TVALUE = 5,
}
OBJECT {
	NAME = "KNIFE",
	IN = ATTIC_TABLE,
	SYNONYM = {"KNIVES","KNIFE","BLADE"},
	ADJECTIVE = {"NASTY","UNRUSTY"},
	DESC = "nasty knife",
	FLAGS = (1<<TAKEBIT)|(1<<WEAPONBIT)|(1<<TRYTAKEBIT),
	FDESC = "On a table is a nasty-looking knife.",
	ACTION = KNIFE_F,
}
OBJECT {
	NAME = "BONES",
	IN = MAZE_5,
	SYNONYM = {"BONES","SKELETON","BODY"},
	DESC = "skeleton",
	FLAGS = (1<<TRYTAKEBIT)|(1<<NDESCBIT),
	ACTION = SKELETON,
}
OBJECT {
	NAME = "BURNED_OUT_LANTERN",
	IN = MAZE_5,
	SYNONYM = {"LANTERN","LAMP"},
	ADJECTIVE = {"RUSTY","BURNED","DEAD","USELESS"},
	DESC = "burned-out lantern",
	FLAGS = (1<<TAKEBIT),
	FDESC = "The deceased adventurer's useless lantern is here.",
	SIZE = 20,
}
OBJECT {
	NAME = "BAG_OF_COINS",
	IN = MAZE_5,
	SYNONYM = {"BAG","COINS","TREASURE"},
	ADJECTIVE = {"OLD","LEATHER"},
	DESC = "leather bag of coins",
	FLAGS = (1<<TAKEBIT),
	LDESC = "An old leather bag, bulging with coins, is here.",
	ACTION = BAG_OF_COINS_F,
	SIZE = 15,
	VALUE = 10,
	TVALUE = 5,
}
OBJECT {
	NAME = "LAMP",
	IN = LIVING_ROOM,
	SYNONYM = {"LAMP","LANTERN","LIGHT"},
	ADJECTIVE = {"BRASS"},
	DESC = "brass lantern",
	FLAGS = (1<<TAKEBIT)|(1<<LIGHTBIT),
	ACTION = LANTERN,
	FDESC = "A battery-powered brass lantern is on the trophy case.",
	LDESC = "There is a brass lantern (battery-powered) here.",
	SIZE = 15,
}
OBJECT {
	NAME = "EMERALD",
	IN = BUOY,
	SYNONYM = {"EMERALD","TREASURE"},
	ADJECTIVE = {"LARGE"},
	DESC = "large emerald",
	FLAGS = (1<<TAKEBIT),
	VALUE = 5,
	TVALUE = 10,
}
OBJECT {
	NAME = "ADVERTISEMENT",
	IN = MAILBOX,
	SYNONYM = {"ADVERTISEMENT","LEAFLET","BOOKLET","MAIL"},
	ADJECTIVE = {"SMALL"},
	DESC = "leaflet",
	FLAGS = (1<<READBIT)|(1<<TAKEBIT)|(1<<BURNBIT),
	LDESC = "A small leaflet is on the ground.",
	TEXT = "\"WELCOME TO ZORK!|\n|\nZORK is a game of adventure, danger, and low cunning. In it you\nwill explore some of the most amazing territory ever seen by mortals.\nNo computer should be without one!\"",
	SIZE = 2,
}
OBJECT {
	NAME = "LEAK",
	IN = MAINTENANCE_ROOM,
	SYNONYM = {"LEAK","DRIP","PIPE"},
	DESC = "leak",
	FLAGS = (1<<NDESCBIT)|(1<<INVISIBLE),
	ACTION = LEAK_FUNCTION,
}
OBJECT {
	NAME = "MACHINE",
	IN = MACHINE_ROOM,
	SYNONYM = {"MACHINE","PDP10","DRYER","LID"},
	DESC = "machine",
	FLAGS = (1<<CONTBIT)|(1<<NDESCBIT)|(1<<TRYTAKEBIT),
	ACTION = MACHINE_F,
	CAPACITY = 50,
}
OBJECT {
	NAME = "INFLATED_BOAT",
	SYNONYM = {"BOAT","RAFT"},
	ADJECTIVE = {"INFLAT","MAGIC","PLASTIC","SEAWORTHY"},
	DESC = "magic boat",
	FLAGS = (1<<TAKEBIT)|(1<<BURNBIT)|(1<<VEHBIT)|(1<<OPENBIT)|(1<<SEARCHBIT),
	ACTION = RBOAT_FUNCTION,
	CAPACITY = 100,
	SIZE = 20,
	VTYPE = NONLANDBIT,
}
OBJECT {
	NAME = "MAILBOX",
	IN = WEST_OF_HOUSE,
	SYNONYM = {"MAILBOX","BOX"},
	ADJECTIVE = {"SMALL"},
	DESC = "small mailbox",
	FLAGS = (1<<CONTBIT)|(1<<TRYTAKEBIT),
	CAPACITY = 10,
	ACTION = MAILBOX_F,
}
OBJECT {
	NAME = "MATCH",
	IN = DAM_LOBBY,
	SYNONYM = {"MATCH","MATCHES","MATCHBOOK"},
	ADJECTIVE = {"MATCH"},
	DESC = "matchbook",
	FLAGS = (1<<READBIT)|(1<<TAKEBIT),
	ACTION = MATCH_FUNCTION,
	LDESC = "There is a matchbook whose cover says \"Visit Beautiful FCD#3\" here.",
	SIZE = 2,
	TEXT = "|\n(Close cover before striking)|\n|\nYOU too can make BIG MONEY in the exciting field of PAPER SHUFFLING!|\n|\nMr. Anderson of Muddle, Mass. says: \"Before I took this course I\nwas a lowly bit twiddler. Now with what I learned at GUE Tech\nI feel really important and can obfuscate and confuse with the best.\"|\n|\nDr. Blank had this to say: \"Ten short days ago all I could look\nforward to was a dead-end job as a doctor. Now I have a promising\nfuture and make really big Zorkmids.\"|\n|\nGUE Tech can't promise these fantastic results to everyone. But when\nyou earn your degree from GUE Tech, your future will be brighter.",
}
OBJECT {
	NAME = "MIRROR_2",
	IN = MIRROR_ROOM_2,
	SYNONYM = {"REFLECTION","MIRROR","ENORMOUS"},
	DESC = "mirror",
	FLAGS = (1<<TRYTAKEBIT)|(1<<NDESCBIT),
	ACTION = MIRROR_MIRROR,
}
OBJECT {
	NAME = "MIRROR_1",
	IN = MIRROR_ROOM_1,
	SYNONYM = {"REFLECTION","MIRROR","ENORMOUS"},
	DESC = "mirror",
	FLAGS = (1<<TRYTAKEBIT)|(1<<NDESCBIT),
	ACTION = MIRROR_MIRROR,
}
OBJECT {
	NAME = "PAINTING",
	IN = GALLERY,
	SYNONYM = {"PAINTING","ART","CANVAS","TREASURE"},
	ADJECTIVE = {"BEAUTI"},
	DESC = "painting",
	FLAGS = (1<<TAKEBIT)|(1<<BURNBIT),
	ACTION = PAINTING_FCN,
	FDESC = "Fortunately, there is still one chance for you to be a vandal, for on\nthe far wall is a painting of unparalleled beauty.",
	LDESC = "A painting by a neglected genius is here.",
	SIZE = 15,
	VALUE = 4,
	TVALUE = 6,
}
OBJECT {
	NAME = "CANDLES",
	IN = SOUTH_TEMPLE,
	SYNONYM = {"CANDLES","PAIR"},
	ADJECTIVE = {"BURNING"},
	DESC = "pair of candles",
	FLAGS = (1<<TAKEBIT)|(1<<FLAMEBIT)|(1<<ONBIT)|(1<<LIGHTBIT),
	ACTION = CANDLES_FCN,
	FDESC = "On the two ends of the altar are burning candles.",
	SIZE = 10,
}
OBJECT {
	NAME = "GUNK",
	SYNONYM = {"GUNK","PIECE","SLAG"},
	ADJECTIVE = {"SMALL","VITREOUS"},
	DESC = "small piece of vitreous slag",
	FLAGS = (1<<TAKEBIT)|(1<<TRYTAKEBIT),
	ACTION = GUNK_FUNCTION,
	SIZE = 10,
}
OBJECT {
	NAME = "BODIES",
	IN = LOCAL_GLOBALS,
	SYNONYM = {"BODIES","BODY","REMAINS","PILE"},
	ADJECTIVE = {"MANGLED"},
	DESC = "pile of bodies",
	FLAGS = (1<<NDESCBIT)|(1<<TRYTAKEBIT),
	ACTION = BODY_FUNCTION,
}
OBJECT {
	NAME = "LEAVES",
	IN = GRATING_CLEARING,
	SYNONYM = {"LEAVES","LEAF","PILE"},
	DESC = "pile of leaves",
	FLAGS = (1<<TAKEBIT)|(1<<BURNBIT)|(1<<TRYTAKEBIT),
	ACTION = LEAF_PILE,
	LDESC = "On the ground is a pile of leaves.",
	SIZE = 25,
}
OBJECT {
	NAME = "PUNCTURED_BOAT",
	SYNONYM = {"BOAT","PILE","PLASTIC"},
	ADJECTIVE = {"PLASTIC","PUNCTURE","LARGE"},
	DESC = "punctured boat",
	FLAGS = (1<<TAKEBIT)|(1<<BURNBIT),
	ACTION = DBOAT_FUNCTION,
	SIZE = 20,
}
OBJECT {
	NAME = "INFLATABLE_BOAT",
	IN = DAM_BASE,
	SYNONYM = {"BOAT","PILE","PLASTIC","VALVE"},
	ADJECTIVE = {"PLASTIC","INFLAT"},
	DESC = "pile of plastic",
	FLAGS = (1<<TAKEBIT)|(1<<BURNBIT),
	ACTION = IBOAT_FUNCTION,
	LDESC = "There is a folded pile of plastic here which has a small valve\nattached.",
	SIZE = 20,
}
OBJECT {
	NAME = "BAR",
	IN = LOUD_ROOM,
	SYNONYM = {"BAR","PLATINUM","TREASURE"},
	ADJECTIVE = {"PLATINUM","LARGE"},
	DESC = "platinum bar",
	FLAGS = (1<<TAKEBIT)|(1<<SACREDBIT),
	LDESC = "On the ground is a large platinum bar.",
	SIZE = 20,
	VALUE = 10,
	TVALUE = 5,
}
OBJECT {
	NAME = "POT_OF_GOLD",
	IN = END_OF_RAINBOW,
	SYNONYM = {"POT","GOLD","TREASURE"},
	ADJECTIVE = {"GOLD"},
	DESC = "pot of gold",
	FLAGS = (1<<TAKEBIT)|(1<<INVISIBLE),
	FDESC = "At the end of the rainbow is a pot of gold.",
	SIZE = 15,
	VALUE = 10,
	TVALUE = 10,
}
OBJECT {
	NAME = "PRAYER",
	IN = NORTH_TEMPLE,
	SYNONYM = {"PRAYER","INSCRIPTION"},
	ADJECTIVE = {"ANCIENT","OLD"},
	DESC = "prayer",
	FLAGS = (1<<READBIT)|(1<<SACREDBIT)|(1<<NDESCBIT),
	TEXT = "The prayer is inscribed in an ancient script, rarely used today. It seems\nto be a philippic against small insects, absent-mindedness, and the picking\nup and dropping of small objects. The final verse consigns trespassers to\nthe land of the dead. All evidence indicates that the beliefs of the ancient\nZorkers were obscure.",
}
OBJECT {
	NAME = "RAILING",
	IN = DOME_ROOM,
	SYNONYM = {"RAILING","RAIL"},
	ADJECTIVE = {"WOODEN"},
	DESC = "wooden railing",
	FLAGS = (1<<NDESCBIT),
}
OBJECT {
	NAME = "RAINBOW",
	IN = LOCAL_GLOBALS,
	SYNONYM = {"RAINBOW"},
	DESC = "rainbow",
	FLAGS = (1<<NDESCBIT)|(1<<CLIMBBIT),
	ACTION = RAINBOW_FCN,
}
OBJECT {
	NAME = "RIVER",
	IN = LOCAL_GLOBALS,
	DESC = "river",
	SYNONYM = {"RIVER"},
	ADJECTIVE = {"FRIGID"},
	ACTION = RIVER_FUNCTION,
	FLAGS = (1<<NDESCBIT),
}
OBJECT {
	NAME = "BUOY",
	IN = RIVER_4,
	SYNONYM = {"BUOY"},
	ADJECTIVE = {"RED"},
	DESC = "red buoy",
	FLAGS = (1<<TAKEBIT)|(1<<CONTBIT),
	FDESC = "There is a red buoy here (probably a warning).",
	CAPACITY = 20,
	SIZE = 10,
	ACTION = TREASURE_INSIDE,
}
TREASURE_INSIDE = function()
	local __ok, __res = pcall(function()

  if VERBQ(OPEN) then 
    SCORE_OBJ(EMERALD)
    	error(false)
  end

	end)
	if __ok or type(__res) == 'boolean' then return __res
	else error('TREASURE_INSIDE\n'..__res) end
end
OBJECT {
	NAME = "ROPE",
	IN = ATTIC,
	SYNONYM = {"ROPE","HEMP","COIL"},
	ADJECTIVE = {"LARGE"},
	DESC = "rope",
	FLAGS = (1<<TAKEBIT)|(1<<SACREDBIT)|(1<<TRYTAKEBIT),
	ACTION = ROPE_FUNCTION,
	FDESC = "A large coil of rope is lying in the corner.",
	SIZE = 10,
}
OBJECT {
	NAME = "RUSTY_KNIFE",
	IN = MAZE_5,
	SYNONYM = {"KNIVES","KNIFE"},
	ADJECTIVE = {"RUSTY"},
	DESC = "rusty knife",
	FLAGS = (1<<TAKEBIT)|(1<<TRYTAKEBIT)|(1<<WEAPONBIT)|(1<<TOOLBIT),
	ACTION = RUSTY_KNIFE_FCN,
	FDESC = "Beside the skeleton is a rusty knife.",
	SIZE = 20,
}
OBJECT {
	NAME = "SAND",
	IN = SANDY_CAVE,
	SYNONYM = {"SAND"},
	DESC = "sand",
	FLAGS = (1<<NDESCBIT),
	ACTION = SAND_FUNCTION,
}
OBJECT {
	NAME = "BRACELET",
	IN = GAS_ROOM,
	SYNONYM = {"BRACELET","JEWEL","SAPPHIRE","TREASURE"},
	ADJECTIVE = {"SAPPHIRE"},
	DESC = "sapphire-encrusted bracelet",
	FLAGS = (1<<TAKEBIT),
	SIZE = 10,
	VALUE = 5,
	TVALUE = 5,
}
OBJECT {
	NAME = "SCREWDRIVER",
	IN = MAINTENANCE_ROOM,
	SYNONYM = {"SCREWDRIVER","TOOL","TOOLS","DRIVER"},
	ADJECTIVE = {"SCREW"},
	DESC = "screwdriver",
	FLAGS = (1<<TAKEBIT)|(1<<TOOLBIT),
}
OBJECT {
	NAME = "KEYS",
	IN = MAZE_5,
	SYNONYM = {"KEY"},
	ADJECTIVE = {"SKELETON"},
	DESC = "skeleton key",
	FLAGS = (1<<TAKEBIT)|(1<<TOOLBIT),
	SIZE = 10,
}
OBJECT {
	NAME = "SHOVEL",
	IN = SANDY_BEACH,
	SYNONYM = {"SHOVEL","TOOL","TOOLS"},
	DESC = "shovel",
	FLAGS = (1<<TAKEBIT)|(1<<TOOLBIT),
	SIZE = 15,
}
OBJECT {
	NAME = "COAL",
	IN = DEAD_END_5,
	SYNONYM = {"COAL","PILE","HEAP"},
	ADJECTIVE = {"SMALL"},
	DESC = "small pile of coal",
	FLAGS = (1<<TAKEBIT)|(1<<BURNBIT),
	SIZE = 20,
}
OBJECT {
	NAME = "LADDER",
	IN = LOCAL_GLOBALS,
	SYNONYM = {"LADDER"},
	ADJECTIVE = {"WOODEN","RICKETY","NARROW"},
	DESC = "wooden ladder",
	FLAGS = (1<<NDESCBIT)|(1<<CLIMBBIT),
}
OBJECT {
	NAME = "SCARAB",
	IN = SANDY_CAVE,
	SYNONYM = {"SCARAB","BUG","BEETLE","TREASURE"},
	ADJECTIVE = {"BEAUTI","CARVED","JEWELED"},
	DESC = "beautiful jeweled scarab",
	FLAGS = (1<<TAKEBIT)|(1<<INVISIBLE),
	SIZE = 8,
	VALUE = 5,
	TVALUE = 5,
}
OBJECT {
	NAME = "LARGE_BAG",
	IN = THIEF,
	SYNONYM = {"BAG"},
	ADJECTIVE = {"LARGE","THIEFS"},
	DESC = "large bag",
	ACTION = LARGE_BAG_F,
	FLAGS = (1<<TRYTAKEBIT)|(1<<NDESCBIT),
}
OBJECT {
	NAME = "STILETTO",
	IN = THIEF,
	SYNONYM = {"STILETTO"},
	ADJECTIVE = {"VICIOUS"},
	DESC = "stiletto",
	ACTION = STILETTO_FUNCTION,
	FLAGS = (1<<WEAPONBIT)|(1<<TRYTAKEBIT)|(1<<TAKEBIT)|(1<<NDESCBIT),
	SIZE = 10,
}
OBJECT {
	NAME = "MACHINE_SWITCH",
	IN = MACHINE_ROOM,
	SYNONYM = {"SWITCH"},
	DESC = "switch",
	FLAGS = (1<<NDESCBIT)|(1<<TURNBIT),
	ACTION = MSWITCH_FUNCTION,
}
OBJECT {
	NAME = "WOODEN_DOOR",
	IN = LOCAL_GLOBALS,
	SYNONYM = {"DOOR","LETTERING","WRITING"},
	ADJECTIVE = {"WOODEN","GOTHIC","STRANGE","WEST"},
	DESC = "wooden door",
	FLAGS = (1<<DOORBIT)|(1<<NDESCBIT)|(1<<TRANSBIT),
	ACTION = FRONT_DOOR_FCN,
	TEXT = "The engravings translate to \"This space intentionally left blank.\"",
}
OBJECT {
	NAME = "SWORD",
	IN = LIVING_ROOM,
	SYNONYM = {"SWORD","ORCRIST","GLAMDRING","BLADE"},
	ADJECTIVE = {"ELVISH","OLD","ANTIQUE"},
	DESC = "sword",
	FLAGS = (1<<TAKEBIT)|(1<<WEAPONBIT)|(1<<TRYTAKEBIT),
	ACTION = SWORD_FCN,
	FDESC = "Above the trophy case hangs an elvish sword of great antiquity.",
	SIZE = 30,
	TVALUE = 0,
}
OBJECT {
	NAME = "MAP",
	IN = TROPHY_CASE,
	SYNONYM = {"PARCHMENT","MAP"},
	ADJECTIVE = {"ANTIQUE","OLD","ANCIENT"},
	DESC = "ancient map",
	FLAGS = (1<<INVISIBLE)|(1<<READBIT)|(1<<TAKEBIT),
	FDESC = "In the trophy case is an ancient parchment which appears to be a map.",
	SIZE = 2,
	TEXT = "The map shows a forest with three clearings. The largest clearing contains\na house. Three paths leave the large clearing. One of these paths, leading\nsouthwest, is marked \"To Stone Barrow\".",
}
OBJECT {
	NAME = "BOAT_LABEL",
	IN = INFLATED_BOAT,
	SYNONYM = {"LABEL","FINEPRINT","PRINT"},
	ADJECTIVE = {"TAN","FINE"},
	DESC = "tan label",
	FLAGS = (1<<READBIT)|(1<<TAKEBIT)|(1<<BURNBIT),
	SIZE = 2,
	TEXT = "  !!!!FROBOZZ MAGIC BOAT COMPANY!!!!|\n|\nHello, Sailor!|\n|\nInstructions for use:|\n|\n   To get into a body of water, say \"Launch\".|\n   To get to shore, say \"Land\" or the direction in which you want\nto maneuver the boat.|\n|\nWarranty:|\n|\n  This boat is guaranteed against all defects for a period of 76\nmilliseconds from date of purchase or until first used, whichever comes first.|\n|\nWarning:|\n   This boat is made of thin plastic.|\n   Good Luck!",
}
OBJECT {
	NAME = "THIEF",
	IN = ROUND_ROOM,
	SYNONYM = {"THIEF","ROBBER","MAN","PERSON"},
	ADJECTIVE = {"SHADY","SUSPICIOUS","SEEDY"},
	DESC = "thief",
	FLAGS = (1<<ACTORBIT)|(1<<INVISIBLE)|(1<<CONTBIT)|(1<<OPENBIT)|(1<<TRYTAKEBIT),
	ACTION = ROBBER_FUNCTION,
	LDESC = "There is a suspicious-looking individual, holding a large bag, leaning\nagainst one wall. He is armed with a deadly stiletto.",
	STRENGTH = 5,
}
OBJECT {
	NAME = "PEDESTAL",
	IN = TORCH_ROOM,
	SYNONYM = {"PEDESTAL"},
	ADJECTIVE = {"WHITE","MARBLE"},
	DESC = "pedestal",
	FLAGS = (1<<NDESCBIT)|(1<<CONTBIT)|(1<<OPENBIT)|(1<<SURFACEBIT),
	ACTION = DUMB_CONTAINER,
	CAPACITY = 30,
}
OBJECT {
	NAME = "TORCH",
	IN = PEDESTAL,
	SYNONYM = {"TORCH","IVORY","TREASURE"},
	ADJECTIVE = {"FLAMING","IVORY"},
	DESC = "torch",
	FLAGS = (1<<TAKEBIT)|(1<<FLAMEBIT)|(1<<ONBIT)|(1<<LIGHTBIT),
	ACTION = TORCH_OBJECT,
	FDESC = "Sitting on the pedestal is a flaming torch, made of ivory.",
	SIZE = 20,
	VALUE = 14,
	TVALUE = 6,
}
OBJECT {
	NAME = "GUIDE",
	IN = DAM_LOBBY,
	SYNONYM = {"GUIDE","BOOK","BOOKS","GUIDEBOOKS"},
	ADJECTIVE = {"TOUR","GUIDE"},
	DESC = "tour guidebook",
	FLAGS = (1<<READBIT)|(1<<TAKEBIT)|(1<<BURNBIT),
	FDESC = "Some guidebooks entitled \"Flood Control Dam #3\" are on the reception\ndesk.",
	TEXT = "\"	Flood Control Dam #3|\n|\nFCD#3 was constructed in year 783 of the Great Underground Empire to\nharness the mighty Frigid River. This work was supported by a grant of\n37 million zorkmids from your omnipotent local tyrant Lord Dimwit\nFlathead the Excessive. This impressive structure is composed of\n370,000 cubic feet of concrete, is 256 feet tall at the center, and 193\nfeet wide at the top. The lake created behind the dam has a volume\nof 1.7 billion cubic feet, an area of 12 million square feet, and a\nshore line of 36 thousand feet.|\n|\nThe construction of FCD#3 took 112 days from ground breaking to\nthe dedication. It required a work force of 384 slaves, 34 slave\ndrivers, 12 engineers, 2 turtle doves, and a partridge in a pear\ntree. The work was managed by a command team composed of 2345\nbureaucrats, 2347 secretaries (at least two of whom could type),\n12,256 paper shufflers, 52,469 rubber stampers, 245,193 red tape\nprocessors, and nearly one million dead trees.|\n|\nWe will now point out some of the more interesting features\nof FCD#3 as we conduct you on a guided tour of the facilities:|\n|\n        1) You start your tour here in the Dam Lobby. You will notice\non your right that....",
}
OBJECT {
	NAME = "TROLL",
	IN = TROLL_ROOM,
	SYNONYM = {"TROLL"},
	ADJECTIVE = {"NASTY"},
	DESC = "troll",
	FLAGS = (1<<ACTORBIT)|(1<<OPENBIT)|(1<<TRYTAKEBIT),
	ACTION = TROLL_FCN,
	LDESC = "A nasty-looking troll, brandishing a bloody axe, blocks all passages\nout of the room.",
	STRENGTH = 2,
}
OBJECT {
	NAME = "TRUNK",
	IN = RESERVOIR,
	SYNONYM = {"TRUNK","CHEST","JEWELS","TREASURE"},
	ADJECTIVE = {"OLD"},
	DESC = "trunk of jewels",
	FLAGS = (1<<TAKEBIT)|(1<<INVISIBLE),
	FDESC = "Lying half buried in the mud is an old trunk, bulging with jewels.",
	LDESC = "There is an old trunk here, bulging with assorted jewels.",
	ACTION = TRUNK_F,
	SIZE = 35,
	VALUE = 15,
	TVALUE = 5,
}
OBJECT {
	NAME = "TUBE",
	IN = MAINTENANCE_ROOM,
	SYNONYM = {"TUBE","TOOTH","PASTE"},
	DESC = "tube",
	FLAGS = (1<<TAKEBIT)|(1<<CONTBIT)|(1<<READBIT),
	ACTION = TUBE_FUNCTION,
	LDESC = "There is an object which looks like a tube of toothpaste here.",
	CAPACITY = 7,
	SIZE = 5,
	TEXT = "---> Frobozz Magic Gunk Company <---|\n          All-Purpose Gunk",
}
OBJECT {
	NAME = "PUTTY",
	IN = TUBE,
	SYNONYM = {"MATERIAL","GUNK"},
	ADJECTIVE = {"VISCOUS"},
	DESC = "viscous material",
	FLAGS = (1<<TAKEBIT)|(1<<TOOLBIT),
	SIZE = 6,
	ACTION = PUTTY_FCN,
}
OBJECT {
	NAME = "ENGRAVINGS",
	IN = ENGRAVINGS_CAVE,
	SYNONYM = {"WALL","ENGRAVINGS","INSCRIPTION"},
	ADJECTIVE = {"OLD","ANCIENT"},
	DESC = "wall with engravings",
	FLAGS = (1<<READBIT)|(1<<SACREDBIT),
	LDESC = "There are old engravings on the walls here.",
	TEXT = "The engravings were incised in the living rock of the cave wall by\nan unknown hand. They depict, in symbolic form, the beliefs of the\nancient Zorkers. Skillfully interwoven with the bas reliefs are excerpts\nillustrating the major religious tenets of that time. Unfortunately, a\nlater age seems to have considered them blasphemous and just as skillfully\nexcised them.",
}
OBJECT {
	NAME = "OWNERS_MANUAL",
	IN = STUDIO,
	SYNONYM = {"MANUAL","PIECE","PAPER"},
	ADJECTIVE = {"ZORK","OWNERS","SMALL"},
	DESC = "ZORK owner's manual",
	FLAGS = (1<<READBIT)|(1<<TAKEBIT),
	FDESC = "Loosely attached to a wall is a small piece of paper.",
	TEXT = "Congratulations!|\n|\nYou are the privileged owner of ZORK I: The Great Underground Empire,\na self-contained and self-maintaining universe. If used and maintained\nin accordance with normal operating practices for small universes, ZORK\nwill provide many months of trouble-free operation.",
}
OBJECT {
	NAME = "CLIMBABLE_CLIFF",
	IN = LOCAL_GLOBALS,
	SYNONYM = {"WALL","CLIFF","WALLS","LEDGE"},
	ADJECTIVE = {"ROCKY","SHEER"},
	DESC = "cliff",
	ACTION = CLIFF_OBJECT,
	FLAGS = (1<<NDESCBIT)|(1<<CLIMBBIT),
}
OBJECT {
	NAME = "WHITE_CLIFF",
	IN = LOCAL_GLOBALS,
	SYNONYM = {"CLIFF","CLIFFS"},
	ADJECTIVE = {"WHITE"},
	DESC = "white cliffs",
	FLAGS = (1<<NDESCBIT)|(1<<CLIMBBIT),
	ACTION = WCLIF_OBJECT,
}
OBJECT {
	NAME = "WRENCH",
	IN = MAINTENANCE_ROOM,
	SYNONYM = {"WRENCH","TOOL","TOOLS"},
	DESC = "wrench",
	FLAGS = (1<<TAKEBIT)|(1<<TOOLBIT),
	SIZE = 10,
}
OBJECT {
	NAME = "CONTROL_PANEL",
	IN = DAM_ROOM,
	SYNONYM = {"PANEL"},
	ADJECTIVE = {"CONTROL"},
	DESC = "control panel",
	FLAGS = (1<<NDESCBIT),
}
OBJECT {
	NAME = "NEST",
	IN = UP_A_TREE,
	SYNONYM = {"NEST"},
	ADJECTIVE = {"BIRDS"},
	DESC = "bird's nest",
	FLAGS = (1<<TAKEBIT)|(1<<BURNBIT)|(1<<CONTBIT)|(1<<OPENBIT)|(1<<SEARCHBIT),
	FDESC = "Beside you on the branch is a small bird's nest.",
	CAPACITY = 20,
}
OBJECT {
	NAME = "EGG",
	IN = NEST,
	SYNONYM = {"EGG","TREASURE"},
	ADJECTIVE = {"BIRDS","ENCRUSTED","JEWELED"},
	DESC = "jewel-encrusted egg",
	FLAGS = (1<<TAKEBIT)|(1<<CONTBIT)|(1<<SEARCHBIT),
	ACTION = EGG_OBJECT,
	VALUE = 5,
	TVALUE = 5,
	CAPACITY = 6,
	FDESC = "In the bird's nest is a large egg encrusted with precious jewels,\napparently scavenged by a childless songbird. The egg is covered with\nfine gold inlay, and ornamented in lapis lazuli and mother-of-pearl.\nUnlike most eggs, this one is hinged and closed with a delicate looking\nclasp. The egg appears extremely fragile.",
}
OBJECT {
	NAME = "BROKEN_EGG",
	SYNONYM = {"EGG","TREASURE"},
	ADJECTIVE = {"BROKEN","BIRDS","ENCRUSTED","JEWEL"},
	DESC = "broken jewel-encrusted egg",
	FLAGS = (1<<TAKEBIT)|(1<<CONTBIT)|(1<<OPENBIT),
	CAPACITY = 6,
	TVALUE = 2,
	LDESC = "There is a somewhat ruined egg here.",
}
OBJECT {
	NAME = "BAUBLE",
	SYNONYM = {"BAUBLE","TREASURE"},
	ADJECTIVE = {"BRASS","BEAUTI"},
	DESC = "beautiful brass bauble",
	FLAGS = (1<<TAKEBIT),
	VALUE = 1,
	TVALUE = 1,
}
OBJECT {
	NAME = "CANARY",
	IN = EGG,
	SYNONYM = {"CANARY","TREASURE"},
	ADJECTIVE = {"CLOCKWORK","GOLD","GOLDEN"},
	DESC = "golden clockwork canary",
	FLAGS = (1<<TAKEBIT)|(1<<SEARCHBIT),
	ACTION = CANARY_OBJECT,
	VALUE = 6,
	TVALUE = 4,
	FDESC = "There is a golden clockwork canary nestled in the egg. It has ruby\neyes and a silver beak. Through a crystal window below its left\nwing you can see intricate machinery inside. It appears to have\nwound down.",
}
OBJECT {
	NAME = "BROKEN_CANARY",
	IN = BROKEN_EGG,
	SYNONYM = {"CANARY","TREASURE"},
	ADJECTIVE = {"BROKEN","CLOCKWORK","GOLD","GOLDEN"},
	DESC = "broken clockwork canary",
	FLAGS = (1<<TAKEBIT),
	ACTION = CANARY_OBJECT,
	TVALUE = 1,
	FDESC = "There is a golden clockwork canary nestled in the egg. It seems to\nhave recently had a bad experience. The mountings for its jewel-like\neyes are empty, and its silver beak is crumpled. Through a cracked\ncrystal window below its left wing you can see the remains of\nintricate machinery. It is not clear what result winding it would\nhave, as the mainspring seems sprung.",
}
CYCLOPS_FLAG = nil
DEFLATE = nil
DOME_FLAG = nil
EMPTY_HANDED = nil
LLD_FLAG = nil
LOW_TIDE = nil
MAGIC_FLAG = nil
RAINBOW_FLAG = nil
TROLL_FLAG = nil
COFFIN_CURE = nil
ROOM {
	NAME = "WEST_OF_HOUSE",
	IN = ROOMS,
	DESC = "West of House",
	NAV_NORTH = function() return NORTH_OF_HOUSE end,
	NAV_SOUTH = function() return SOUTH_OF_HOUSE end,
	NAV_NE = function() return NORTH_OF_HOUSE end,
	NAV_SE = function() return SOUTH_OF_HOUSE end,
	NAV_WEST = function() return FOREST_1 end,
	EAST = "The door is boarded and you can't remove the boards.",
	NAV_SW = function() return WON_FLAG and STONE_BARROW or nil end,
	NAV_IN = function() return WON_FLAG and STONE_BARROW or nil end,
	ACTION = WEST_HOUSE,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT)|(1<<SACREDBIT),
	GLOBAL = WHITE_HOUSE,
}
ROOM {
	NAME = "STONE_BARROW",
	IN = ROOMS,
	LDESC = "You are standing in front of a massive barrow of stone. In the east face\nis a huge stone door which is open. You cannot see into the dark of the tomb.",
	DESC = "Stone Barrow",
	NAV_NE = function() return WEST_OF_HOUSE end,
	ACTION = STONE_BARROW_FCN,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT)|(1<<SACREDBIT),
}
ROOM {
	NAME = "NORTH_OF_HOUSE",
	IN = ROOMS,
	LDESC = "You are facing the north side of a white house. There is no door here,\nand all the windows are boarded up. To the north a narrow path winds through\nthe trees.",
	DESC = "North of House",
	NAV_SW = function() return WEST_OF_HOUSE end,
	NAV_SE = function() return EAST_OF_HOUSE end,
	NAV_WEST = function() return WEST_OF_HOUSE end,
	NAV_EAST = function() return EAST_OF_HOUSE end,
	NAV_NORTH = function() return PATH end,
	SOUTH = "The windows are all boarded.",
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT)|(1<<SACREDBIT),
	GLOBAL = BOARDED_WINDOW,
}
ROOM {
	NAME = "SOUTH_OF_HOUSE",
	IN = ROOMS,
	LDESC = "You are facing the south side of a white house. There is no door here,\nand all the windows are boarded.",
	DESC = "South of House",
	NAV_WEST = function() return WEST_OF_HOUSE end,
	NAV_EAST = function() return EAST_OF_HOUSE end,
	NAV_NE = function() return EAST_OF_HOUSE end,
	NAV_NW = function() return WEST_OF_HOUSE end,
	NAV_SOUTH = function() return FOREST_3 end,
	NORTH = "The windows are all boarded.",
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT)|(1<<SACREDBIT),
	GLOBAL = BOARDED_WINDOW,
}
ROOM {
	NAME = "EAST_OF_HOUSE",
	IN = ROOMS,
	DESC = "Behind House",
	NAV_NORTH = function() return NORTH_OF_HOUSE end,
	NAV_SOUTH = function() return SOUTH_OF_HOUSE end,
	NAV_SW = function() return SOUTH_OF_HOUSE end,
	NAV_NW = function() return NORTH_OF_HOUSE end,
	NAV_EAST = function() return CLEARING end,
	NAV_WEST = function() return KITCHEN_WINDOW.FLAGS&(1<<OPENBIT) and KITCHEN or nil end,
	NAV_IN = function() return KITCHEN_WINDOW.FLAGS&(1<<OPENBIT) and KITCHEN or nil end,
	ACTION = EAST_HOUSE,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT)|(1<<SACREDBIT),
	GLOBAL = WHITE_HOUSE,
}
ROOM {
	NAME = "FOREST_1",
	IN = ROOMS,
	LDESC = "This is a forest, with trees in all directions. To the east,\nthere appears to be sunlight.",
	DESC = "Forest",
	UP = "There is no tree here suitable for climbing.",
	NAV_NORTH = function() return GRATING_CLEARING end,
	NAV_EAST = function() return PATH end,
	NAV_SOUTH = function() return FOREST_3 end,
	WEST = "You would need a machete to go further west.",
	ACTION = FOREST_ROOM,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT)|(1<<SACREDBIT),
	GLOBAL = TREE,
}
ROOM {
	NAME = "FOREST_2",
	IN = ROOMS,
	LDESC = "This is a dimly lit forest, with large trees all around.",
	DESC = "Forest",
	UP = "There is no tree here suitable for climbing.",
	NORTH = "The forest becomes impenetrable to the north.",
	NAV_EAST = function() return MOUNTAINS end,
	NAV_SOUTH = function() return CLEARING end,
	NAV_WEST = function() return PATH end,
	ACTION = FOREST_ROOM,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT)|(1<<SACREDBIT),
	GLOBAL = TREE,
}
ROOM {
	NAME = "MOUNTAINS",
	IN = ROOMS,
	LDESC = "The forest thins out, revealing impassable mountains.",
	DESC = "Forest",
	UP = "The mountains are impassable.",
	NAV_NORTH = function() return FOREST_2 end,
	EAST = "The mountains are impassable.",
	NAV_SOUTH = function() return FOREST_2 end,
	NAV_WEST = function() return FOREST_2 end,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT)|(1<<SACREDBIT),
	GLOBAL = TREE,
}
ROOM {
	NAME = "FOREST_3",
	IN = ROOMS,
	LDESC = "This is a dimly lit forest, with large trees all around.",
	DESC = "Forest",
	UP = "There is no tree here suitable for climbing.",
	NAV_NORTH = function() return CLEARING end,
	EAST = "The rank undergrowth prevents eastward movement.",
	SOUTH = "Storm-tossed trees block your way.",
	NAV_WEST = function() return FOREST_1 end,
	NAV_NW = function() return SOUTH_OF_HOUSE end,
	ACTION = FOREST_ROOM,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT)|(1<<SACREDBIT),
	GLOBAL = TREE,
}
ROOM {
	NAME = "PATH",
	IN = ROOMS,
	LDESC = "This is a path winding through a dimly lit forest. The path heads\nnorth-south here. One particularly large tree with some low branches\nstands at the edge of the path.",
	DESC = "Forest Path",
	NAV_UP = function() return UP_A_TREE end,
	NAV_NORTH = function() return GRATING_CLEARING end,
	NAV_EAST = function() return FOREST_2 end,
	NAV_SOUTH = function() return NORTH_OF_HOUSE end,
	NAV_WEST = function() return FOREST_1 end,
	ACTION = FOREST_ROOM,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT)|(1<<SACREDBIT),
	GLOBAL = TREE,
}
ROOM {
	NAME = "UP_A_TREE",
	IN = ROOMS,
	DESC = "Up a Tree",
	NAV_DOWN = function() return PATH end,
	UP = "You cannot climb any higher.",
	ACTION = TREE_ROOM,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT)|(1<<SACREDBIT),
	GLOBAL = TREE,
}
ROOM {
	NAME = "GRATING_CLEARING",
	IN = ROOMS,
	DESC = "Clearing",
	NORTH = "The forest becomes impenetrable to the north.",
	NAV_EAST = function() return FOREST_2 end,
	NAV_WEST = function() return FOREST_1 end,
	NAV_SOUTH = function() return PATH end,
	DOWN = PER,
	ACTION = CLEARING_FCN,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT)|(1<<SACREDBIT),
	GLOBAL = WHITE_HOUSE,
}
GRATING_EXIT = function()
	local __ok, __res = pcall(function()

  if GRATE_REVEALED then 
    
    if FSETQ(GRATE, OPENBIT) then 
      -- 	return GRATING_ROOM
    elseif T then 
      TELL("The grating is closed!", CR)
      THIS_IS_IT(GRATE)
      	error(false)
    end

  elseif T then 
    TELL("You can't go that way.", CR)
    	error(false)
  end

	end)
	if __ok or type(__res) == 'boolean' then return __res
	else error('GRATING_EXIT\n'..__res) end
end
ROOM {
	NAME = "CLEARING",
	IN = ROOMS,
	LDESC = "You are in a small clearing in a well marked forest path that\nextends to the east and west.",
	DESC = "Clearing",
	UP = "There is no tree here suitable for climbing.",
	NAV_EAST = function() return CANYON_VIEW end,
	NAV_NORTH = function() return FOREST_2 end,
	NAV_SOUTH = function() return FOREST_3 end,
	NAV_WEST = function() return EAST_OF_HOUSE end,
	ACTION = FOREST_ROOM,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT)|(1<<SACREDBIT),
	GLOBAL = TREE,
}
ROOM {
	NAME = "KITCHEN",
	IN = ROOMS,
	DESC = "Kitchen",
	NAV_EAST = function() return KITCHEN_WINDOW.FLAGS&(1<<OPENBIT) and EAST_OF_HOUSE or nil end,
	NAV_WEST = function() return LIVING_ROOM end,
	NAV_OUT = function() return KITCHEN_WINDOW.FLAGS&(1<<OPENBIT) and EAST_OF_HOUSE or nil end,
	NAV_UP = function() return ATTIC end,
	NAV_DOWN = function() return FALSE_FLAG and STUDIO or "Only Santa Claus climbs down chimneys." end,
	ACTION = KITCHEN_FCN,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT)|(1<<SACREDBIT),
	VALUE = 10,
	GLOBAL = KITCHEN_WINDOW,
}
ROOM {
	NAME = "ATTIC",
	IN = ROOMS,
	LDESC = "This is the attic. The only exit is a stairway leading down.",
	DESC = "Attic",
	NAV_DOWN = function() return KITCHEN end,
	FLAGS = (1<<RLANDBIT)|(1<<SACREDBIT),
	GLOBAL = STAIRS,
}
ROOM {
	NAME = "LIVING_ROOM",
	IN = ROOMS,
	DESC = "Living Room",
	NAV_EAST = function() return KITCHEN end,
	NAV_WEST = function() return MAGIC_FLAG and STRANGE_PASSAGE or "The door is nailed shut." end,
	DOWN = PER,
	ACTION = LIVING_ROOM_FCN,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT)|(1<<SACREDBIT),
	GLOBAL = WOODEN_DOOR,
	PSEUDO = "NAILS",
}
ROOM {
	NAME = "CELLAR",
	IN = ROOMS,
	DESC = "Cellar",
	NAV_NORTH = function() return TROLL_ROOM end,
	NAV_SOUTH = function() return EAST_OF_CHASM end,
	NAV_UP = function() return TRAP_DOOR.FLAGS&(1<<OPENBIT) and LIVING_ROOM or nil end,
	WEST = "You try to ascend the ramp, but it is impossible, and you slide back down.",
	ACTION = CELLAR_FCN,
	FLAGS = (1<<RLANDBIT),
	VALUE = 25,
	GLOBAL = TRAP_DOOR,
}
ROOM {
	NAME = "TROLL_ROOM",
	IN = ROOMS,
	LDESC = "This is a small room with passages to the east and south and a\nforbidding hole leading west. Bloodstains and deep scratches\n(perhaps made by an axe) mar the walls.",
	DESC = "The Troll Room",
	NAV_SOUTH = function() return CELLAR end,
	NAV_EAST = function() return TROLL_FLAG and EW_PASSAGE or "The troll fends you off with a menacing gesture." end,
	NAV_WEST = function() return TROLL_FLAG and MAZE_1 or "The troll fends you off with a menacing gesture." end,
	FLAGS = (1<<RLANDBIT),
	ACTION = TROLL_ROOM_F,
}
ROOM {
	NAME = "EAST_OF_CHASM",
	IN = ROOMS,
	LDESC = "You are on the east edge of a chasm, the bottom of which cannot be\nseen. A narrow passage goes north, and the path you are on continues\nto the east.",
	DESC = "East of Chasm",
	NAV_NORTH = function() return CELLAR end,
	NAV_EAST = function() return GALLERY end,
	DOWN = "The chasm probably leads straight to the infernal regions.",
	FLAGS = (1<<RLANDBIT),
	PSEUDO = "CHASM",
}
ROOM {
	NAME = "GALLERY",
	IN = ROOMS,
	LDESC = "This is an art gallery. Most of the paintings have been stolen by\nvandals with exceptional taste. The vandals left through either the\nnorth or west exits.",
	DESC = "Gallery",
	NAV_WEST = function() return EAST_OF_CHASM end,
	NAV_NORTH = function() return STUDIO end,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT),
}
ROOM {
	NAME = "STUDIO",
	IN = ROOMS,
	LDESC = "This appears to have been an artist's studio. The walls and floors are\nsplattered with paints of 69 different colors. Strangely enough, nothing\nof value is hanging here. At the south end of the room is an open door\n(also covered with paint). A dark and narrow chimney leads up from a\nfireplace; although you might be able to get up it, it seems unlikely\nyou could get back down.",
	DESC = "Studio",
	NAV_SOUTH = function() return GALLERY end,
	UP = PER,
	FLAGS = (1<<RLANDBIT),
	GLOBAL = CHIMNEY,
	PSEUDO = "DOOR",
}
ROOM {
	NAME = "MAZE_1",
	IN = ROOMS,
	LDESC = "This is part of a maze of twisty little passages, all alike.",
	DESC = "Maze",
	NAV_EAST = function() return TROLL_ROOM end,
	NAV_NORTH = function() return MAZE_1 end,
	NAV_SOUTH = function() return MAZE_2 end,
	NAV_WEST = function() return MAZE_4 end,
	FLAGS = (1<<RLANDBIT)|(1<<MAZEBIT),
}
ROOM {
	NAME = "MAZE_2",
	IN = ROOMS,
	LDESC = "This is part of a maze of twisty little passages, all alike.",
	DESC = "Maze",
	NAV_SOUTH = function() return MAZE_1 end,
	DOWN = PER,
	NAV_EAST = function() return MAZE_3 end,
	FLAGS = (1<<RLANDBIT)|(1<<MAZEBIT),
}
ROOM {
	NAME = "MAZE_3",
	IN = ROOMS,
	LDESC = "This is part of a maze of twisty little passages, all alike.",
	DESC = "Maze",
	NAV_WEST = function() return MAZE_2 end,
	NAV_NORTH = function() return MAZE_4 end,
	NAV_UP = function() return MAZE_5 end,
	FLAGS = (1<<RLANDBIT)|(1<<MAZEBIT),
}
ROOM {
	NAME = "MAZE_4",
	IN = ROOMS,
	LDESC = "This is part of a maze of twisty little passages, all alike.",
	DESC = "Maze",
	NAV_WEST = function() return MAZE_3 end,
	NAV_NORTH = function() return MAZE_1 end,
	NAV_EAST = function() return DEAD_END_1 end,
	FLAGS = (1<<RLANDBIT)|(1<<MAZEBIT),
}
ROOM {
	NAME = "DEAD_END_1",
	IN = ROOMS,
	DESC = "Dead End",
	LDESC = "You have come to a dead end in the maze.",
	NAV_SOUTH = function() return MAZE_4 end,
	FLAGS = (1<<RLANDBIT)|(1<<MAZEBIT),
}
ROOM {
	NAME = "MAZE_5",
	IN = ROOMS,
	LDESC = "This is part of a maze of twisty little passages, all alike.\nA skeleton, probably the remains of a luckless adventurer, lies here.",
	DESC = "Maze",
	NAV_EAST = function() return DEAD_END_2 end,
	NAV_NORTH = function() return MAZE_3 end,
	NAV_SW = function() return MAZE_6 end,
	FLAGS = (1<<RLANDBIT)|(1<<MAZEBIT),
}
ROOM {
	NAME = "DEAD_END_2",
	IN = ROOMS,
	DESC = "Dead End",
	LDESC = "You have come to a dead end in the maze.",
	NAV_WEST = function() return MAZE_5 end,
	FLAGS = (1<<RLANDBIT)|(1<<MAZEBIT),
}
ROOM {
	NAME = "MAZE_6",
	IN = ROOMS,
	LDESC = "This is part of a maze of twisty little passages, all alike.",
	DESC = "Maze",
	NAV_DOWN = function() return MAZE_5 end,
	NAV_EAST = function() return MAZE_7 end,
	NAV_WEST = function() return MAZE_6 end,
	NAV_UP = function() return MAZE_9 end,
	FLAGS = (1<<RLANDBIT)|(1<<MAZEBIT),
}
ROOM {
	NAME = "MAZE_7",
	IN = ROOMS,
	LDESC = "This is part of a maze of twisty little passages, all alike.",
	DESC = "Maze",
	NAV_UP = function() return MAZE_14 end,
	NAV_WEST = function() return MAZE_6 end,
	DOWN = PER,
	NAV_EAST = function() return MAZE_8 end,
	NAV_SOUTH = function() return MAZE_15 end,
	FLAGS = (1<<RLANDBIT)|(1<<MAZEBIT),
}
ROOM {
	NAME = "MAZE_8",
	IN = ROOMS,
	LDESC = "This is part of a maze of twisty little passages, all alike.",
	DESC = "Maze",
	NAV_NE = function() return MAZE_7 end,
	NAV_WEST = function() return MAZE_8 end,
	NAV_SE = function() return DEAD_END_3 end,
	FLAGS = (1<<RLANDBIT)|(1<<MAZEBIT),
}
ROOM {
	NAME = "DEAD_END_3",
	IN = ROOMS,
	DESC = "Dead End",
	LDESC = "You have come to a dead end in the maze.",
	NAV_NORTH = function() return MAZE_8 end,
	FLAGS = (1<<RLANDBIT)|(1<<MAZEBIT),
}
ROOM {
	NAME = "MAZE_9",
	IN = ROOMS,
	LDESC = "This is part of a maze of twisty little passages, all alike.",
	DESC = "Maze",
	NAV_NORTH = function() return MAZE_6 end,
	DOWN = PER,
	NAV_EAST = function() return MAZE_10 end,
	NAV_SOUTH = function() return MAZE_13 end,
	NAV_WEST = function() return MAZE_12 end,
	NAV_NW = function() return MAZE_9 end,
	FLAGS = (1<<RLANDBIT)|(1<<MAZEBIT),
}
ROOM {
	NAME = "MAZE_10",
	IN = ROOMS,
	LDESC = "This is part of a maze of twisty little passages, all alike.",
	DESC = "Maze",
	NAV_EAST = function() return MAZE_9 end,
	NAV_WEST = function() return MAZE_13 end,
	NAV_UP = function() return MAZE_11 end,
	FLAGS = (1<<RLANDBIT)|(1<<MAZEBIT),
}
ROOM {
	NAME = "MAZE_11",
	IN = ROOMS,
	LDESC = "This is part of a maze of twisty little passages, all alike.",
	DESC = "Maze",
	NAV_NE = function() return GRATING_ROOM end,
	NAV_DOWN = function() return MAZE_10 end,
	NAV_NW = function() return MAZE_13 end,
	NAV_SW = function() return MAZE_12 end,
	FLAGS = (1<<RLANDBIT)|(1<<MAZEBIT),
}
ROOM {
	NAME = "GRATING_ROOM",
	IN = ROOMS,
	DESC = "Grating Room",
	NAV_SW = function() return MAZE_11 end,
	NAV_UP = function() return GRATE.FLAGS&(1<<OPENBIT) and GRATING_CLEARING or "The grating is closed." end,
	ACTION = MAZE_11_FCN,
	GLOBAL = GRATE,
	FLAGS = (1<<RLANDBIT),
}
ROOM {
	NAME = "MAZE_12",
	IN = ROOMS,
	LDESC = "This is part of a maze of twisty little passages, all alike.",
	DESC = "Maze",
	DOWN = PER,
	NAV_SW = function() return MAZE_11 end,
	NAV_EAST = function() return MAZE_13 end,
	NAV_UP = function() return MAZE_9 end,
	NAV_NORTH = function() return DEAD_END_4 end,
	FLAGS = (1<<RLANDBIT)|(1<<MAZEBIT),
}
ROOM {
	NAME = "DEAD_END_4",
	IN = ROOMS,
	DESC = "Dead End",
	LDESC = "You have come to a dead end in the maze.",
	NAV_SOUTH = function() return MAZE_12 end,
	FLAGS = (1<<RLANDBIT)|(1<<MAZEBIT),
}
ROOM {
	NAME = "MAZE_13",
	IN = ROOMS,
	LDESC = "This is part of a maze of twisty little passages, all alike.",
	DESC = "Maze",
	NAV_EAST = function() return MAZE_9 end,
	NAV_DOWN = function() return MAZE_12 end,
	NAV_SOUTH = function() return MAZE_10 end,
	NAV_WEST = function() return MAZE_11 end,
	FLAGS = (1<<RLANDBIT)|(1<<MAZEBIT),
}
ROOM {
	NAME = "MAZE_14",
	IN = ROOMS,
	LDESC = "This is part of a maze of twisty little passages, all alike.",
	DESC = "Maze",
	NAV_WEST = function() return MAZE_15 end,
	NAV_NW = function() return MAZE_14 end,
	NAV_NE = function() return MAZE_7 end,
	NAV_SOUTH = function() return MAZE_7 end,
	FLAGS = (1<<RLANDBIT)|(1<<MAZEBIT),
}
ROOM {
	NAME = "MAZE_15",
	IN = ROOMS,
	LDESC = "This is part of a maze of twisty little passages, all alike.",
	DESC = "Maze",
	NAV_WEST = function() return MAZE_14 end,
	NAV_SOUTH = function() return MAZE_7 end,
	NAV_SE = function() return CYCLOPS_ROOM end,
	FLAGS = (1<<RLANDBIT)|(1<<MAZEBIT),
}
ROOM {
	NAME = "CYCLOPS_ROOM",
	IN = ROOMS,
	DESC = "Cyclops Room",
	NAV_NW = function() return MAZE_15 end,
	NAV_EAST = function() return MAGIC_FLAG and STRANGE_PASSAGE or "The east wall is solid rock." end,
	NAV_UP = function() return CYCLOPS_FLAG and TREASURE_ROOM or "The cyclops doesn't look like he'll let you past." end,
	ACTION = CYCLOPS_ROOM_FCN,
	FLAGS = (1<<RLANDBIT),
	GLOBAL = STAIRS,
}
ROOM {
	NAME = "STRANGE_PASSAGE",
	IN = ROOMS,
	LDESC = "This is a long passage. To the west is one entrance. On the\neast there is an old wooden door, with a large opening in it (about\ncyclops sized).",
	DESC = "Strange Passage",
	NAV_WEST = function() return CYCLOPS_ROOM end,
	NAV_IN = function() return CYCLOPS_ROOM end,
	NAV_EAST = function() return LIVING_ROOM end,
	FLAGS = (1<<RLANDBIT),
	GLOBAL = WOODEN_DOOR,
}
ROOM {
	NAME = "TREASURE_ROOM",
	IN = ROOMS,
	LDESC = "This is a large room, whose east wall is solid granite. A number\nof discarded bags, which crumble at your touch, are scattered about\non the floor. There is an exit down a staircase.",
	DESC = "Treasure Room",
	NAV_DOWN = function() return CYCLOPS_ROOM end,
	ACTION = TREASURE_ROOM_FCN,
	FLAGS = (1<<RLANDBIT),
	VALUE = 25,
	GLOBAL = STAIRS,
}
ROOM {
	NAME = "RESERVOIR_SOUTH",
	IN = ROOMS,
	DESC = "Reservoir South",
	NAV_SE = function() return DEEP_CANYON end,
	NAV_SW = function() return CHASM_ROOM end,
	NAV_EAST = function() return DAM_ROOM end,
	NAV_WEST = function() return STREAM_VIEW end,
	NAV_NORTH = function() return LOW_TIDE and RESERVOIR or "You would drown." end,
	ACTION = RESERVOIR_SOUTH_FCN,
	FLAGS = (1<<RLANDBIT),
	GLOBAL = GLOBAL_WATER,
	PSEUDO = "LAKE",
}
ROOM {
	NAME = "RESERVOIR",
	IN = ROOMS,
	DESC = "Reservoir",
	NAV_NORTH = function() return RESERVOIR_NORTH end,
	NAV_SOUTH = function() return RESERVOIR_SOUTH end,
	NAV_UP = function() return IN_STREAM end,
	NAV_WEST = function() return IN_STREAM end,
	DOWN = "The dam blocks your way.",
	ACTION = RESERVOIR_FCN,
	FLAGS = (1<<NONLANDBIT),
	PSEUDO = "STREAM",
	GLOBAL = GLOBAL_WATER,
}
ROOM {
	NAME = "RESERVOIR_NORTH",
	IN = ROOMS,
	DESC = "Reservoir North",
	NAV_NORTH = function() return ATLANTIS_ROOM end,
	NAV_SOUTH = function() return LOW_TIDE and RESERVOIR or "You would drown." end,
	ACTION = RESERVOIR_NORTH_FCN,
	FLAGS = (1<<RLANDBIT),
	GLOBAL = GLOBAL_WATER,
	PSEUDO = "LAKE",
}
ROOM {
	NAME = "STREAM_VIEW",
	IN = ROOMS,
	LDESC = "You are standing on a path beside a gently flowing stream. The path\nfollows the stream, which flows from west to east.",
	DESC = "Stream View",
	NAV_EAST = function() return RESERVOIR_SOUTH end,
	WEST = "The stream emerges from a spot too small for you to enter.",
	FLAGS = (1<<RLANDBIT),
	GLOBAL = GLOBAL_WATER,
	PSEUDO = "STREAM",
}
ROOM {
	NAME = "IN_STREAM",
	IN = ROOMS,
	LDESC = "You are on the gently flowing stream. The upstream route is too narrow\nto navigate, and the downstream route is invisible due to twisting\nwalls. There is a narrow beach to land on.",
	DESC = "Stream",
	UP = "The channel is too narrow.",
	WEST = "The channel is too narrow.",
	NAV_LAND = function() return STREAM_VIEW end,
	NAV_DOWN = function() return RESERVOIR end,
	NAV_EAST = function() return RESERVOIR end,
	FLAGS = (1<<NONLANDBIT),
	GLOBAL = GLOBAL_WATER,
	PSEUDO = "STREAM",
}
ROOM {
	NAME = "MIRROR_ROOM_1",
	IN = ROOMS,
	DESC = "Mirror Room",
	NAV_NORTH = function() return COLD_PASSAGE end,
	NAV_WEST = function() return TWISTING_PASSAGE end,
	NAV_EAST = function() return SMALL_CAVE end,
	ACTION = MIRROR_ROOM,
	FLAGS = (1<<RLANDBIT),
}
ROOM {
	NAME = "MIRROR_ROOM_2",
	IN = ROOMS,
	DESC = "Mirror Room",
	NAV_WEST = function() return WINDING_PASSAGE end,
	NAV_NORTH = function() return NARROW_PASSAGE end,
	NAV_EAST = function() return TINY_CAVE end,
	ACTION = MIRROR_ROOM,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT),
}
ROOM {
	NAME = "SMALL_CAVE",
	IN = ROOMS,
	LDESC = "This is a tiny cave with entrances west and north, and a staircase\nleading down.",
	DESC = "Cave",
	NAV_NORTH = function() return MIRROR_ROOM_1 end,
	NAV_DOWN = function() return ATLANTIS_ROOM end,
	NAV_SOUTH = function() return ATLANTIS_ROOM end,
	NAV_WEST = function() return TWISTING_PASSAGE end,
	FLAGS = (1<<RLANDBIT),
	GLOBAL = STAIRS,
}
ROOM {
	NAME = "TINY_CAVE",
	IN = ROOMS,
	LDESC = "This is a tiny cave with entrances west and north, and a dark,\nforbidding staircase leading down.",
	DESC = "Cave",
	NAV_NORTH = function() return MIRROR_ROOM_2 end,
	NAV_WEST = function() return WINDING_PASSAGE end,
	NAV_DOWN = function() return ENTRANCE_TO_HADES end,
	ACTION = CAVE2_ROOM,
	FLAGS = (1<<RLANDBIT),
	GLOBAL = STAIRS,
}
ROOM {
	NAME = "COLD_PASSAGE",
	IN = ROOMS,
	LDESC = "This is a cold and damp corridor where a long east-west passageway\nturns into a southward path.",
	DESC = "Cold Passage",
	NAV_SOUTH = function() return MIRROR_ROOM_1 end,
	NAV_WEST = function() return SLIDE_ROOM end,
	FLAGS = (1<<RLANDBIT),
}
ROOM {
	NAME = "NARROW_PASSAGE",
	IN = ROOMS,
	LDESC = "This is a long and narrow corridor where a long north-south passageway\nbriefly narrows even further.",
	DESC = "Narrow Passage",
	NAV_NORTH = function() return ROUND_ROOM end,
	NAV_SOUTH = function() return MIRROR_ROOM_2 end,
	FLAGS = (1<<RLANDBIT),
}
ROOM {
	NAME = "WINDING_PASSAGE",
	IN = ROOMS,
	LDESC = "This is a winding passage. It seems that there are only exits\non the east and north.",
	DESC = "Winding Passage",
	NAV_NORTH = function() return MIRROR_ROOM_2 end,
	NAV_EAST = function() return TINY_CAVE end,
	FLAGS = (1<<RLANDBIT),
}
ROOM {
	NAME = "TWISTING_PASSAGE",
	IN = ROOMS,
	LDESC = "This is a winding passage. It seems that there are only exits\non the east and north.",
	DESC = "Twisting Passage",
	NAV_NORTH = function() return MIRROR_ROOM_1 end,
	NAV_EAST = function() return SMALL_CAVE end,
	FLAGS = (1<<RLANDBIT),
}
ROOM {
	NAME = "ATLANTIS_ROOM",
	IN = ROOMS,
	LDESC = "This is an ancient room, long under water. There is an exit to\nthe south and a staircase leading up.",
	DESC = "Atlantis Room",
	NAV_UP = function() return SMALL_CAVE end,
	NAV_SOUTH = function() return RESERVOIR_NORTH end,
	FLAGS = (1<<RLANDBIT),
	GLOBAL = STAIRS,
}
ROOM {
	NAME = "EW_PASSAGE",
	IN = ROOMS,
	LDESC = "This is a narrow east-west passageway. There is a narrow stairway\nleading down at the north end of the room.",
	DESC = "East-West Passage",
	NAV_EAST = function() return ROUND_ROOM end,
	NAV_WEST = function() return TROLL_ROOM end,
	NAV_DOWN = function() return CHASM_ROOM end,
	NAV_NORTH = function() return CHASM_ROOM end,
	FLAGS = (1<<RLANDBIT),
	VALUE = 5,
	GLOBAL = STAIRS,
}
ROOM {
	NAME = "ROUND_ROOM",
	IN = ROOMS,
	LDESC = "This is a circular stone room with passages in all directions. Several\nof them have unfortunately been blocked by cave-ins.",
	DESC = "Round Room",
	NAV_EAST = function() return LOUD_ROOM end,
	NAV_WEST = function() return EW_PASSAGE end,
	NAV_NORTH = function() return NS_PASSAGE end,
	NAV_SOUTH = function() return NARROW_PASSAGE end,
	NAV_SE = function() return ENGRAVINGS_CAVE end,
	FLAGS = (1<<RLANDBIT),
}
ROOM {
	NAME = "DEEP_CANYON",
	IN = ROOMS,
	DESC = "Deep Canyon",
	NAV_NW = function() return RESERVOIR_SOUTH end,
	NAV_EAST = function() return DAM_ROOM end,
	NAV_SW = function() return NS_PASSAGE end,
	NAV_DOWN = function() return LOUD_ROOM end,
	FLAGS = (1<<RLANDBIT),
	ACTION = DEEP_CANYON_F,
	GLOBAL = STAIRS,
}
ROOM {
	NAME = "DAMP_CAVE",
	IN = ROOMS,
	LDESC = "This cave has exits to the west and east, and narrows to a crack toward\nthe south. The earth is particularly damp here.",
	DESC = "Damp Cave",
	NAV_WEST = function() return LOUD_ROOM end,
	NAV_EAST = function() return WHITE_CLIFFS_NORTH end,
	SOUTH = "It is too narrow for most insects.",
	FLAGS = (1<<RLANDBIT),
	GLOBAL = CRACK,
}
ROOM {
	NAME = "LOUD_ROOM",
	IN = ROOMS,
	DESC = "Loud Room",
	NAV_EAST = function() return DAMP_CAVE end,
	NAV_WEST = function() return ROUND_ROOM end,
	NAV_UP = function() return DEEP_CANYON end,
	ACTION = LOUD_ROOM_FCN,
	FLAGS = (1<<RLANDBIT),
	GLOBAL = STAIRS,
}
ROOM {
	NAME = "NS_PASSAGE",
	IN = ROOMS,
	LDESC = "This is a high north-south passage, which forks to the northeast.",
	DESC = "North-South Passage",
	NAV_NORTH = function() return CHASM_ROOM end,
	NAV_NE = function() return DEEP_CANYON end,
	NAV_SOUTH = function() return ROUND_ROOM end,
	FLAGS = (1<<RLANDBIT),
}
ROOM {
	NAME = "CHASM_ROOM",
	IN = ROOMS,
	LDESC = "A chasm runs southwest to northeast and the path follows it. You are\non the south side of the chasm, where a crack opens into a passage.",
	DESC = "Chasm",
	NAV_NE = function() return RESERVOIR_SOUTH end,
	NAV_SW = function() return EW_PASSAGE end,
	NAV_UP = function() return EW_PASSAGE end,
	NAV_SOUTH = function() return NS_PASSAGE end,
	DOWN = "Are you out of your mind?",
	FLAGS = (1<<RLANDBIT),
	GLOBAL = CRACK,
	PSEUDO = "CHASM",
}
ROOM {
	NAME = "ENTRANCE_TO_HADES",
	IN = ROOMS,
	DESC = "Entrance to Hades",
	NAV_UP = function() return TINY_CAVE end,
	NAV_IN = function() return LLD_FLAG and LAND_OF_LIVING_DEAD or "Some invisible force prevents you from passing through the gate." end,
	NAV_SOUTH = function() return LLD_FLAG and LAND_OF_LIVING_DEAD or "Some invisible force prevents you from passing through the gate." end,
	ACTION = LLD_ROOM,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT),
	GLOBAL = BODIES,
	PSEUDO = "GATE",
}
ROOM {
	NAME = "LAND_OF_LIVING_DEAD",
	IN = ROOMS,
	LDESC = "You have entered the Land of the Living Dead. Thousands of lost souls\ncan be heard weeping and moaning. In the corner are stacked the remains\nof dozens of previous adventurers less fortunate than yourself.\nA passage exits to the north.",
	DESC = "Land of the Dead",
	NAV_OUT = function() return ENTRANCE_TO_HADES end,
	NAV_NORTH = function() return ENTRANCE_TO_HADES end,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT),
	GLOBAL = BODIES,
}
ROOM {
	NAME = "ENGRAVINGS_CAVE",
	IN = ROOMS,
	LDESC = "You have entered a low cave with passages leading northwest and east.",
	DESC = "Engravings Cave",
	NAV_NW = function() return ROUND_ROOM end,
	NAV_EAST = function() return DOME_ROOM end,
	FLAGS = (1<<RLANDBIT),
}
ROOM {
	NAME = "EGYPT_ROOM",
	IN = ROOMS,
	LDESC = "This is a room which looks like an Egyptian tomb. There is an\nascending staircase to the west.",
	DESC = "Egyptian Room",
	NAV_WEST = function() return NORTH_TEMPLE end,
	NAV_UP = function() return NORTH_TEMPLE end,
	FLAGS = (1<<RLANDBIT),
	GLOBAL = STAIRS,
}
ROOM {
	NAME = "DOME_ROOM",
	IN = ROOMS,
	DESC = "Dome Room",
	NAV_WEST = function() return ENGRAVINGS_CAVE end,
	NAV_DOWN = function() return DOME_FLAG and TORCH_ROOM or "You cannot go down without fracturing many bones." end,
	ACTION = DOME_ROOM_FCN,
	FLAGS = (1<<RLANDBIT),
	PSEUDO = "DOME",
}
ROOM {
	NAME = "TORCH_ROOM",
	IN = ROOMS,
	DESC = "Torch Room",
	UP = "You cannot reach the rope.",
	NAV_SOUTH = function() return NORTH_TEMPLE end,
	NAV_DOWN = function() return NORTH_TEMPLE end,
	ACTION = TORCH_ROOM_FCN,
	FLAGS = (1<<RLANDBIT),
	GLOBAL = STAIRS,
	PSEUDO = "DOME",
}
ROOM {
	NAME = "NORTH_TEMPLE",
	IN = ROOMS,
	LDESC = "This is the north end of a large temple. On the east wall is an\nancient inscription, probably a prayer in a long-forgotten language.\nBelow the prayer is a staircase leading down. The west wall is solid\ngranite. The exit to the north end of the room is through huge\nmarble pillars.",
	DESC = "Temple",
	NAV_DOWN = function() return EGYPT_ROOM end,
	NAV_EAST = function() return EGYPT_ROOM end,
	NAV_NORTH = function() return TORCH_ROOM end,
	NAV_OUT = function() return TORCH_ROOM end,
	NAV_UP = function() return TORCH_ROOM end,
	NAV_SOUTH = function() return SOUTH_TEMPLE end,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT)|(1<<SACREDBIT),
	GLOBAL = STAIRS,
}
ROOM {
	NAME = "SOUTH_TEMPLE",
	IN = ROOMS,
	LDESC = "This is the south end of a large temple. In front of you is what\nappears to be an altar. In one corner is a small hole in the floor\nwhich leads into darkness. You probably could not get back up it.",
	DESC = "Altar",
	NAV_NORTH = function() return NORTH_TEMPLE end,
	NAV_DOWN = function() return COFFIN_CURE and TINY_CAVE or "You haven't a prayer of getting the coffin down there." end,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT)|(1<<SACREDBIT),
	ACTION = SOUTH_TEMPLE_FCN,
}
ROOM {
	NAME = "DAM_ROOM",
	IN = ROOMS,
	DESC = "Dam",
	NAV_SOUTH = function() return DEEP_CANYON end,
	NAV_DOWN = function() return DAM_BASE end,
	NAV_EAST = function() return DAM_BASE end,
	NAV_NORTH = function() return DAM_LOBBY end,
	NAV_WEST = function() return RESERVOIR_SOUTH end,
	ACTION = DAM_ROOM_FCN,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT),
	GLOBAL = GLOBAL_WATER,
}
ROOM {
	NAME = "DAM_LOBBY",
	IN = ROOMS,
	LDESC = "This room appears to have been the waiting room for groups touring\nthe dam. There are open doorways here to the north and east marked\n\"Private\", and there is a path leading south over the top of the dam.",
	DESC = "Dam Lobby",
	NAV_SOUTH = function() return DAM_ROOM end,
	NAV_NORTH = function() return MAINTENANCE_ROOM end,
	NAV_EAST = function() return MAINTENANCE_ROOM end,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT),
}
ROOM {
	NAME = "MAINTENANCE_ROOM",
	IN = ROOMS,
	LDESC = "This is what appears to have been the maintenance room for Flood\nControl Dam #3. Apparently, this room has been ransacked recently, for\nmost of the valuable equipment is gone. On the wall in front of you is a\ngroup of buttons colored blue, yellow, brown, and red. There are doorways to\nthe west and south.",
	DESC = "Maintenance Room",
	NAV_SOUTH = function() return DAM_LOBBY end,
	NAV_WEST = function() return DAM_LOBBY end,
	FLAGS = (1<<RLANDBIT),
}
ROOM {
	NAME = "DAM_BASE",
	IN = ROOMS,
	LDESC = "You are at the base of Flood Control Dam #3, which looms above you\nand to the north. The river Frigid is flowing by here. Along the\nriver are the White Cliffs which seem to form giant walls stretching\nfrom north to south along the shores of the river as it winds its\nway downstream.",
	DESC = "Dam Base",
	NAV_NORTH = function() return DAM_ROOM end,
	NAV_UP = function() return DAM_ROOM end,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT)|(1<<SACREDBIT),
	GLOBAL = GLOBAL_WATER,
}
ROOM {
	NAME = "RIVER_1",
	IN = ROOMS,
	LDESC = "You are on the Frigid River in the vicinity of the Dam. The river\nflows quietly here. There is a landing on the west shore.",
	DESC = "Frigid River",
	UP = "You cannot go upstream due to strong currents.",
	NAV_WEST = function() return DAM_BASE end,
	NAV_LAND = function() return DAM_BASE end,
	NAV_DOWN = function() return RIVER_2 end,
	EAST = "The White Cliffs prevent your landing here.",
	FLAGS = (1<<NONLANDBIT)|(1<<SACREDBIT)|(1<<ONBIT),
	GLOBAL = GLOBAL_WATER,
}
ROOM {
	NAME = "RIVER_2",
	IN = ROOMS,
	LDESC = "The river turns a corner here making it impossible to see the\nDam. The White Cliffs loom on the east bank and large rocks prevent\nlanding on the west.",
	DESC = "Frigid River",
	UP = "You cannot go upstream due to strong currents.",
	NAV_DOWN = function() return RIVER_3 end,
	LAND = "There is no safe landing spot here.",
	EAST = "The White Cliffs prevent your landing here.",
	WEST = "Just in time you steer away from the rocks.",
	FLAGS = (1<<NONLANDBIT)|(1<<SACREDBIT),
	GLOBAL = GLOBAL_WATER,
}
ROOM {
	NAME = "RIVER_3",
	IN = ROOMS,
	LDESC = "The river descends here into a valley. There is a narrow beach on the\nwest shore below the cliffs. In the distance a faint rumbling can be\nheard.",
	DESC = "Frigid River",
	UP = "You cannot go upstream due to strong currents.",
	NAV_DOWN = function() return RIVER_4 end,
	NAV_LAND = function() return WHITE_CLIFFS_NORTH end,
	NAV_WEST = function() return WHITE_CLIFFS_NORTH end,
	FLAGS = (1<<NONLANDBIT)|(1<<SACREDBIT),
	GLOBAL = GLOBAL_WATER,
}
ROOM {
	NAME = "WHITE_CLIFFS_NORTH",
	IN = ROOMS,
	LDESC = "You are on a narrow strip of beach which runs along the base of the\nWhite Cliffs. There is a narrow path heading south along the Cliffs\nand a tight passage leading west into the cliffs themselves.",
	DESC = "White Cliffs Beach",
	NAV_SOUTH = function() return DEFLATE and WHITE_CLIFFS_SOUTH or "The path is too narrow." end,
	NAV_WEST = function() return DEFLATE and DAMP_CAVE or "The path is too narrow." end,
	ACTION = WHITE_CLIFFS_FUNCTION,
	FLAGS = (1<<RLANDBIT)|(1<<SACREDBIT),
	GLOBAL = GLOBAL_WATER,
}
ROOM {
	NAME = "WHITE_CLIFFS_SOUTH",
	IN = ROOMS,
	LDESC = "You are on a rocky, narrow strip of beach beside the Cliffs. A\nnarrow path leads north along the shore.",
	DESC = "White Cliffs Beach",
	NAV_NORTH = function() return DEFLATE and WHITE_CLIFFS_NORTH or "The path is too narrow." end,
	ACTION = WHITE_CLIFFS_FUNCTION,
	FLAGS = (1<<RLANDBIT)|(1<<SACREDBIT),
	GLOBAL = GLOBAL_WATER,
}
ROOM {
	NAME = "RIVER_4",
	IN = ROOMS,
	LDESC = "The river is running faster here and the sound ahead appears to be\nthat of rushing water. On the east shore is a sandy beach. A small\narea of beach can also be seen below the cliffs on the west shore.",
	DESC = "Frigid River",
	UP = "You cannot go upstream due to strong currents.",
	NAV_DOWN = function() return RIVER_5 end,
	LAND = "You can land either to the east or the west.",
	NAV_WEST = function() return WHITE_CLIFFS_SOUTH end,
	NAV_EAST = function() return SANDY_BEACH end,
	ACTION = RIVR4_ROOM,
	FLAGS = (1<<NONLANDBIT)|(1<<SACREDBIT),
	GLOBAL = GLOBAL_WATER,
}
ROOM {
	NAME = "RIVER_5",
	IN = ROOMS,
	LDESC = "The sound of rushing water is nearly unbearable here. On the east\nshore is a large landing area.",
	DESC = "Frigid River",
	UP = "You cannot go upstream due to strong currents.",
	NAV_EAST = function() return SHORE end,
	NAV_LAND = function() return SHORE end,
	FLAGS = (1<<NONLANDBIT)|(1<<SACREDBIT)|(1<<ONBIT),
	GLOBAL = GLOBAL_WATER,
}
ROOM {
	NAME = "SHORE",
	IN = ROOMS,
	LDESC = "You are on the east shore of the river. The water here seems somewhat\ntreacherous. A path travels from north to south here, the south end\nquickly turning around a sharp corner.",
	DESC = "Shore",
	NAV_NORTH = function() return SANDY_BEACH end,
	NAV_SOUTH = function() return ARAGAIN_FALLS end,
	FLAGS = (1<<RLANDBIT)|(1<<SACREDBIT)|(1<<ONBIT),
	GLOBAL = GLOBAL_WATER,
}
ROOM {
	NAME = "SANDY_BEACH",
	IN = ROOMS,
	LDESC = "You are on a large sandy beach on the east shore of the river, which is\nflowing quickly by. A path runs beside the river to the south here, and\na passage is partially buried in sand to the northeast.",
	DESC = "Sandy Beach",
	NAV_NE = function() return SANDY_CAVE end,
	NAV_SOUTH = function() return SHORE end,
	FLAGS = (1<<RLANDBIT)|(1<<SACREDBIT),
	GLOBAL = GLOBAL_WATER,
}
ROOM {
	NAME = "SANDY_CAVE",
	IN = ROOMS,
	LDESC = "This is a sand-filled cave whose exit is to the southwest.",
	DESC = "Sandy Cave",
	NAV_SW = function() return SANDY_BEACH end,
	FLAGS = (1<<RLANDBIT),
}
ROOM {
	NAME = "ARAGAIN_FALLS",
	IN = ROOMS,
	DESC = "Aragain Falls",
	NAV_WEST = function() return RAINBOW_FLAG and ON_RAINBOW or nil end,
	DOWN = "It's a long way...",
	NAV_NORTH = function() return SHORE end,
	NAV_UP = function() return RAINBOW_FLAG and ON_RAINBOW or nil end,
	ACTION = FALLS_ROOM,
	FLAGS = (1<<RLANDBIT)|(1<<SACREDBIT)|(1<<ONBIT),
	GLOBAL = GLOBAL_WATER,
}
ROOM {
	NAME = "ON_RAINBOW",
	IN = ROOMS,
	LDESC = "You are on top of a rainbow (I bet you never thought you would walk\non a rainbow), with a magnificent view of the Falls. The rainbow\ntravels east-west here.",
	DESC = "On the Rainbow",
	NAV_WEST = function() return END_OF_RAINBOW end,
	NAV_EAST = function() return ARAGAIN_FALLS end,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT)|(1<<SACREDBIT),
	GLOBAL = RAINBOW,
}
ROOM {
	NAME = "END_OF_RAINBOW",
	IN = ROOMS,
	LDESC = "You are on a small, rocky beach on the continuation of the Frigid\nRiver past the Falls. The beach is narrow due to the presence of the\nWhite Cliffs. The river canyon opens here and sunlight shines in\nfrom above. A rainbow crosses over the falls to the east and a narrow\npath continues to the southwest.",
	DESC = "End of Rainbow",
	NAV_UP = function() return RAINBOW_FLAG and ON_RAINBOW or nil end,
	NAV_NE = function() return RAINBOW_FLAG and ON_RAINBOW or nil end,
	NAV_EAST = function() return RAINBOW_FLAG and ON_RAINBOW or nil end,
	NAV_SW = function() return CANYON_BOTTOM end,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT),
	GLOBAL = GLOBAL_WATER,
}
ROOM {
	NAME = "CANYON_BOTTOM",
	IN = ROOMS,
	LDESC = "You are beneath the walls of the river canyon which may be climbable\nhere. The lesser part of the runoff of Aragain Falls flows by below.\nTo the north is a narrow path.",
	DESC = "Canyon Bottom",
	NAV_UP = function() return CLIFF_MIDDLE end,
	NAV_NORTH = function() return END_OF_RAINBOW end,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT)|(1<<SACREDBIT),
	GLOBAL = GLOBAL_WATER,
}
ROOM {
	NAME = "CLIFF_MIDDLE",
	IN = ROOMS,
	LDESC = "You are on a ledge about halfway up the wall of the river canyon.\nYou can see from here that the main flow from Aragain Falls twists\nalong a passage which it is impossible for you to enter. Below you is the\ncanyon bottom. Above you is more cliff, which appears\nclimbable.",
	DESC = "Rocky Ledge",
	NAV_UP = function() return CANYON_VIEW end,
	NAV_DOWN = function() return CANYON_BOTTOM end,
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT)|(1<<SACREDBIT),
	GLOBAL = CLIMBABLE_CLIFF,
}
ROOM {
	NAME = "CANYON_VIEW",
	IN = ROOMS,
	LDESC = "You are at the top of the Great Canyon on its west wall. From here\nthere is a marvelous view of the canyon and parts of the Frigid River\nupstream. Across the canyon, the walls of the White Cliffs join the\nmighty ramparts of the Flathead Mountains to the east. Following the\nCanyon upstream to the north, Aragain Falls may be seen, complete with\nrainbow. The mighty Frigid River flows out from a great dark cavern. To\nthe west and south can be seen an immense forest, stretching for miles\naround. A path leads northwest. It is possible to climb down into\nthe canyon from here.",
	DESC = "Canyon View",
	NAV_EAST = function() return CLIFF_MIDDLE end,
	NAV_DOWN = function() return CLIFF_MIDDLE end,
	NAV_NW = function() return CLEARING end,
	NAV_WEST = function() return FOREST_3 end,
	SOUTH = "Storm-tossed trees block your way.",
	FLAGS = (1<<RLANDBIT)|(1<<ONBIT)|(1<<SACREDBIT),
	GLOBAL = CLIMBABLE_CLIFF,
	ACTION = CANYON_VIEW_F,
}
CANYON_VIEW_F = function(RARG)
	local __ok, __res = pcall(function()

  if PASS(EQUALQ(RARG, M_BEG) and VERBQ(LEAP) and NOT(PRSO)) then 
    JIGS_UP("Nice view, lousy place to jump.")
    	error(true)
  end

	end)
	if __ok or type(__res) == 'boolean' then return __res
	else error('CANYON_VIEW_F\n'..__res) end
end
ROOM {
	NAME = "MINE_ENTRANCE",
	IN = ROOMS,
	LDESC = "You are standing at the entrance of what might have been a coal mine.\nThe shaft enters the west wall, and there is another exit on the south\nend of the room.",
	DESC = "Mine Entrance",
	NAV_SOUTH = function() return SLIDE_ROOM end,
	NAV_IN = function() return SQUEEKY_ROOM end,
	NAV_WEST = function() return SQUEEKY_ROOM end,
	FLAGS = (1<<RLANDBIT),
}
ROOM {
	NAME = "SQUEEKY_ROOM",
	IN = ROOMS,
	LDESC = "You are in a small room. Strange squeaky sounds may be heard coming\nfrom the passage at the north end. You may also escape to the east.",
	DESC = "Squeaky Room",
	NAV_NORTH = function() return BAT_ROOM end,
	NAV_EAST = function() return MINE_ENTRANCE end,
	FLAGS = (1<<RLANDBIT),
}
ROOM {
	NAME = "BAT_ROOM",
	IN = ROOMS,
	DESC = "Bat Room",
	NAV_SOUTH = function() return SQUEEKY_ROOM end,
	NAV_EAST = function() return SHAFT_ROOM end,
	ACTION = BATS_ROOM,
	FLAGS = (1<<RLANDBIT)|(1<<SACREDBIT),
}
ROOM {
	NAME = "SHAFT_ROOM",
	IN = ROOMS,
	LDESC = "This is a large room, in the middle of which is a small shaft\ndescending through the floor into darkness below. To the west and\nthe north are exits from this room. Constructed over the top of the\nshaft is a metal framework to which a heavy iron chain is attached.",
	DESC = "Shaft Room",
	DOWN = "You wouldn't fit and would die if you could.",
	NAV_WEST = function() return BAT_ROOM end,
	NAV_NORTH = function() return SMELLY_ROOM end,
	FLAGS = (1<<RLANDBIT),
	PSEUDO = "CHAIN",
}
ROOM {
	NAME = "SMELLY_ROOM",
	IN = ROOMS,
	LDESC = "This is a small nondescript room. However, from the direction\nof a small descending staircase a foul odor can be detected. To the\nsouth is a narrow tunnel.",
	DESC = "Smelly Room",
	NAV_DOWN = function() return GAS_ROOM end,
	NAV_SOUTH = function() return SHAFT_ROOM end,
	FLAGS = (1<<RLANDBIT),
	GLOBAL = STAIRS,
	PSEUDO = "ODOR",
}
ROOM {
	NAME = "GAS_ROOM",
	IN = ROOMS,
	LDESC = "This is a small room which smells strongly of coal gas. There is a\nshort climb up some stairs and a narrow tunnel leading east.",
	DESC = "Gas Room",
	NAV_UP = function() return SMELLY_ROOM end,
	NAV_EAST = function() return MINE_1 end,
	ACTION = BOOM_ROOM,
	FLAGS = (1<<RLANDBIT)|(1<<SACREDBIT),
	GLOBAL = STAIRS,
	PSEUDO = "GAS",
}
ROOM {
	NAME = "LADDER_TOP",
	IN = ROOMS,
	LDESC = "This is a very small room. In the corner is a rickety wooden\nladder, leading downward. It might be safe to descend. There is\nalso a staircase leading upward.",
	DESC = "Ladder Top",
	NAV_DOWN = function() return LADDER_BOTTOM end,
	NAV_UP = function() return MINE_4 end,
	FLAGS = (1<<RLANDBIT),
	GLOBAL = LADDER,
}
ROOM {
	NAME = "LADDER_BOTTOM",
	IN = ROOMS,
	LDESC = "This is a rather wide room. On one side is the bottom of a\nnarrow wooden ladder. To the west and the south are passages\nleaving the room.",
	DESC = "Ladder Bottom",
	NAV_SOUTH = function() return DEAD_END_5 end,
	NAV_WEST = function() return TIMBER_ROOM end,
	NAV_UP = function() return LADDER_TOP end,
	FLAGS = (1<<RLANDBIT),
	GLOBAL = LADDER,
}
ROOM {
	NAME = "DEAD_END_5",
	IN = ROOMS,
	DESC = "Dead End",
	LDESC = "You have come to a dead end in the mine.",
	NAV_NORTH = function() return LADDER_BOTTOM end,
	FLAGS = (1<<RLANDBIT),
}
ROOM {
	NAME = "TIMBER_ROOM",
	IN = ROOMS,
	LDESC = "This is a long and narrow passage, which is cluttered with broken\ntimbers. A wide passage comes from the east and turns at the\nwest end of the room into a very narrow passageway. From the west\ncomes a strong draft.",
	DESC = "Timber Room",
	NAV_EAST = function() return LADDER_BOTTOM end,
	NAV_WEST = function() return EMPTY_HANDED and LOWER_SHAFT or "You cannot fit through this passage with that load." end,
	ACTION = NO_OBJS,
	FLAGS = (1<<RLANDBIT)|(1<<SACREDBIT),
}
ROOM {
	NAME = "LOWER_SHAFT",
	IN = ROOMS,
	LDESC = "This is a small drafty room in which is the bottom of a long\nshaft. To the south is a passageway and to the east a very narrow\npassage. In the shaft can be seen a heavy iron chain.",
	DESC = "Drafty Room",
	NAV_SOUTH = function() return MACHINE_ROOM end,
	NAV_OUT = function() return EMPTY_HANDED and TIMBER_ROOM or "You cannot fit through this passage with that load." end,
	NAV_EAST = function() return EMPTY_HANDED and TIMBER_ROOM or "You cannot fit through this passage with that load." end,
	ACTION = NO_OBJS,
	FLAGS = (1<<RLANDBIT)|(1<<SACREDBIT),
	PSEUDO = "CHAIN",
}
ROOM {
	NAME = "MACHINE_ROOM",
	IN = ROOMS,
	DESC = "Machine Room",
	NAV_NORTH = function() return LOWER_SHAFT end,
	ACTION = MACHINE_ROOM_FCN,
	FLAGS = (1<<RLANDBIT),
}
ROOM {
	NAME = "MINE_1",
	IN = ROOMS,
	LDESC = "This is a nondescript part of a coal mine.",
	DESC = "Coal Mine",
	NAV_NORTH = function() return GAS_ROOM end,
	NAV_EAST = function() return MINE_1 end,
	NAV_NE = function() return MINE_2 end,
	FLAGS = (1<<RLANDBIT),
}
ROOM {
	NAME = "MINE_2",
	IN = ROOMS,
	LDESC = "This is a nondescript part of a coal mine.",
	DESC = "Coal Mine",
	NAV_NORTH = function() return MINE_2 end,
	NAV_SOUTH = function() return MINE_1 end,
	NAV_SE = function() return MINE_3 end,
	FLAGS = (1<<RLANDBIT),
}
ROOM {
	NAME = "MINE_3",
	IN = ROOMS,
	LDESC = "This is a nondescript part of a coal mine.",
	DESC = "Coal Mine",
	NAV_SOUTH = function() return MINE_3 end,
	NAV_SW = function() return MINE_4 end,
	NAV_EAST = function() return MINE_2 end,
	FLAGS = (1<<RLANDBIT),
}
ROOM {
	NAME = "MINE_4",
	IN = ROOMS,
	LDESC = "This is a nondescript part of a coal mine.",
	DESC = "Coal Mine",
	NAV_NORTH = function() return MINE_3 end,
	NAV_WEST = function() return MINE_4 end,
	NAV_DOWN = function() return LADDER_TOP end,
	FLAGS = (1<<RLANDBIT),
}
ROOM {
	NAME = "SLIDE_ROOM",
	IN = ROOMS,
	LDESC = "This is a small chamber, which appears to have been part of a\ncoal mine. On the south wall of the chamber the letters \"Granite\nWall\" are etched in the rock. To the east is a long passage, and\nthere is a steep metal slide twisting downward. To the north is\na small opening.",
	DESC = "Slide Room",
	NAV_EAST = function() return COLD_PASSAGE end,
	NAV_NORTH = function() return MINE_ENTRANCE end,
	NAV_DOWN = function() return CELLAR end,
	FLAGS = (1<<RLANDBIT),
	GLOBAL = SLIDE,
}
HOUSE_AROUND = {WEST_OF_HOUSE,NORTH_OF_HOUSE,EAST_OF_HOUSE,SOUTH_OF_HOUSE,WEST_OF_HOUSE}

FOREST_AROUND = {FOREST_1,FOREST_2,FOREST_3,PATH,CLEARING,FOREST_1}

IN_HOUSE_AROUND = {LIVING_ROOM,KITCHEN,ATTIC,KITCHEN}

ABOVE_GROUND = {WEST_OF_HOUSE,NORTH_OF_HOUSE,EAST_OF_HOUSE,SOUTH_OF_HOUSE,FOREST_1,FOREST_2,FOREST_3,PATH,CLEARING,GRATING_CLEARING,CANYON_VIEW}

GO = function()
	local __ok, __res = pcall(function()
  ENABLE(QUEUE(I_FIGHT, -1))
  QUEUE(I_SWORD, -1)
  ENABLE(QUEUE(I_THIEF, -1))
  QUEUE(I_CANDLES, 40)
  QUEUE(I_LANTERN, 200)
  PUTP(INFLATED_BOAT, "VTYPE", NONLANDBIT)
  PUT(DEF1_RES, 1, REST(DEF1, 2))
  PUT(DEF1_RES, 2, REST(DEF1, 4))
  PUT(DEF2_RES, 2, REST(DEF2B, 2))
  PUT(DEF2_RES, 3, REST(DEF2B, 4))
  PUT(DEF3_RES, 1, REST(DEF3A, 2))
  PUT(DEF3_RES, 3, REST(DEF3B, 2))
APPLY(function() HERE = WEST_OF_HOUSE return HERE end)
  THIS_IS_IT(MAILBOX)

  if NOT(FSETQ(HERE, TOUCHBIT)) then 
    V_VERSION()
    CRLF()
  end

APPLY(function() LIT = T return LIT end)
APPLY(function() WINNER = ADVENTURER return WINNER end)
APPLY(function() PLAYER = WINNER return PLAYER end)
  MOVE(WINNER, HERE)
  V_LOOK()
  MAIN_LOOP()
	return   AGAIN()
	end)
	if __ok or type(__res) == 'boolean' then return __res
	else error('GO\n'..__res) end
end
